<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CivicVoice | Your Community, Your Voice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Leaflet.js for Interactive Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha26-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <!-- Leaflet.heat for Heatmap Layer -->
    <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #f8fafc; /* A neutral light gray background */
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
        }
        
        /* Color Palette */
        :root {
            --primary: #0d9488; /* Teal-600 */
            --primary-hover: #0f766e; /* Teal-700 */
            --secondary: #f97316; /* Orange-500 */
            --accent: #f59e0b; /* Amber-500 */
            --text-dark: #1f2937; /* Gray-800 */
            --text-light: #4b5563; /* Gray-600 */
        }

        .hero-bg {
            background-color: #f0fdfa; /* Teal-50 */
            background-image: radial-gradient(#ccfbf1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        
        /* Enhanced Button Styles */
        .btn {
            @apply font-semibold py-2 px-5 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2;
        }
        .btn-primary {
            @apply bg-teal-600 text-white focus:ring-teal-500;
            background-image: linear-gradient(to right, #0d9488 0%, #14b8a6 51%, #0d9488 100%);
            background-size: 200% auto;
            box-shadow: 0 4px 15px 0 rgba(13, 148, 136, 0.3);
            transition: all 0.4s cubic-bezier(.25,.8,.25,1);
            animation: spotlight-pulse 2.5s infinite 3s;
        }
        .btn-primary:hover {
            background-position: right center;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 20px rgba(13, 148, 136, 0.4);
        }
        .btn-primary:active {
            transform: translateY(1px) scale(0.98);
            box-shadow: 0 2px 5px rgba(0,0,0,0.15) inset;
            background-size: 100%;
        }
        .btn-secondary {
             @apply bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-400;
        }
        .btn-ghost {
            @apply bg-transparent text-gray-600 hover:bg-gray-100 hover:text-teal-600 focus:ring-teal-500;
        }
        .btn-dark {
            @apply bg-black text-white hover:bg-gray-800 focus:ring-gray-700 shadow-md;
            transition: all 0.2s ease-in-out;
        }
         .btn-dark:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        .btn-dark:active {
            transform: translateY(0);
            box-shadow: 0 1px 2px rgba(0,0,0,0.1) inset;
        }
        .btn-sm {
            @apply py-1 px-3 text-sm;
        }
        
        @keyframes spotlight-pulse {
            0% { box-shadow: 0 0 0 0 rgba(13, 148, 136, 0.5); }
            70% { box-shadow: 0 0 0 12px rgba(13, 148, 136, 0); }
            100% { box-shadow: 0 0 0 0 rgba(13, 148, 136, 0); }
        }

        .feature-card, .disaster-card, .offline-card {
            background-color: white;
            border-radius: 1.5rem;
            padding: 2rem;
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        .feature-card:hover, .disaster-card:hover, .offline-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0,0,0,0.1), 0 10px 10px -5px rgba(0,0,0,0.04);
        }
        .feature-icon, .disaster-icon, .offline-icon {
            transition: all 0.3s ease;
        }
         .feature-card:hover .feature-icon, .disaster-card:hover .disaster-icon, .offline-card:hover .offline-icon {
            transform: scale(1.1) rotate(-5deg);
        }

        .testimonial-card {
            background: linear-gradient(135deg, var(--primary), #115e59); /* Teal gradient */
            color: white;
            border-radius: 1.5rem;
            padding: 2.5rem;
            position: relative;
            overflow: hidden;
        }
        .testimonial-card::before {
            content: '“';
            position: absolute;
            top: -10px;
            left: 20px;
            font-size: 10rem;
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            color: rgba(255, 255, 255, 0.1);
            line-height: 1;
            z-index: 1;
        }

        /* Scroll Animation */
        .reveal-on-scroll {
            opacity: 0;
            filter: blur(5px);
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out, filter 0.6s ease-out;
        }
        .reveal-on-scroll.is-visible {
            opacity: 1;
            filter: blur(0);
            transform: translateY(0);
        }

        /* Glassmorphism Header */
        header {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(229, 231, 235, 0.5);
        }
        
        /* SVG Animation */
        .svg-draw-path {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw 2s ease-in-out 1s forwards;
        }
        .svg-fade-in {
            opacity: 0;
            animation: fadeIn 1s ease-in-out forwards;
        }

        @keyframes draw { to { stroke-dashoffset: 0; } }
        @keyframes fadeIn { to { opacity: 1; } }

        .process-flow-arrow {
            position: absolute;
            top: 3rem;
            left: -4.5rem;
            transform: translateY(-50%);
            color: #cbd5e1; /* slate-300 */
        }
         @media (max-width: 767px) {
            .process-flow-arrow { display: none; }
        }
        
        /* FAQ Accordion */
        .faq-question { cursor: pointer; }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .faq-item.open .faq-answer {
            max-height: 200px; /* Adjust as needed */
        }
         .faq-item.open .faq-arrow { transform: rotate(180deg); }
        .faq-arrow { transition: transform 0.3s ease; }
        
        /* Modal Styles */
        .modal-overlay { transition: opacity 0.3s ease; }
        .modal-content { transition: transform 0.3s ease, opacity 0.3s ease; }
        
        /* Report Modal Step Indicator */
        .step-indicator { transition: all 0.3s ease; }
        
        /* Live Reports Tab Styling */
        .tab-btn { transition: all 0.3s ease; }
        .tab-btn.active {
            color: var(--primary);
            border-color: var(--primary);
            background-color: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        /* Voice Recording Animation */
        .mic-pulse { animation: pulse 1.5s infinite; }
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(13, 148, 136, 0.7); }
            70% { box-shadow: 0 0 0 20px rgba(13, 148, 136, 0); }
            100% { box-shadow: 0 0 0 0 rgba(13, 148, 136, 0); }
        }

        /* Tracking Modal Step Progress */
        .tracking-step {
            transition: all 0.5s ease;
            position: relative;
            padding-left: 3.5rem; /* Space for icon circle */
        }
        .tracking-step .step-circle {
            transition: all 0.3s ease;
            position: absolute;
            left: 0;
            top: 0;
        }
        .tracking-step::before { /* The line connecting steps */
            content: '';
            position: absolute;
            left: 1.25rem; /* center of the 2.5rem (w-10) circle */
            top: 2.5rem; /* bottom of the circle */
            height: calc(100% + 2rem); /* 100% of height + h-8 gap */
            width: 2px;
            background-color: #e5e7eb; /* gray-200 */
            transition: background-color 0.5s ease;
        }
        .tracking-step:last-child::before { display: none; }
        .tracking-step.completed .step-circle {
            background-color: var(--primary);
            color: white;
        }
        .tracking-step.completed::before { background-color: var(--primary); }
        .tracking-step.completed .step-label { color: var(--text-dark); }
        .tracking-step.active .step-circle {
            background-color: var(--primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 0 4px rgba(13, 148, 136, 0.3);
        }
        .tracking-step.active .step-label {
            font-weight: 600;
            color: var(--text-dark);
        }
        .report-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .report-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
        }

        /* Chatbot Styles */
        #chatbot-window {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .chat-bubble-user {
            background-color: var(--primary);
            color: white;
            border-radius: 1.5rem 1.5rem 0.25rem 1.5rem;
        }
        .chat-bubble-bot {
            background-color: #e5e7eb;
            color: var(--text-dark);
            border-radius: 1.5rem 1.5rem 1.5rem 0.25rem;
        }

        /* Leaflet Map Styles */
        #live-map, #disaster-map {
            z-index: 10;
        }

        /* Shape Divider */
        .shape-divider {
            width: 100%;
            overflow: hidden;
            line-height: 0;
        }
        .shape-divider svg {
            position: relative;
            display: block;
            width: calc(100% + 1.3px);
            height: 80px;
        }
        .shape-divider .shape-fill {
            fill: #f1f5f9; /* slate-100 */
        }
    </style>
</head>
<body class="text-gray-700 bg-slate-50">

    <header class="shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-3">
                <div class="bg-teal-600 p-2 rounded-lg shadow-md">
                    <i data-lucide="megaphone" class="text-white"></i>
                </div>
                <h1 class="text-2xl font-bold text-gray-800" data-translate="appName">CivicVoice</h1>
            </a>
            <nav class="hidden md:flex items-center space-x-8 text-gray-800 font-semibold">
                <a href="#features" class="hover:text-teal-600 transition duration-300" data-translate="navFeatures">Features</a>
                <a href="#schemes" class="hover:text-teal-600 transition duration-300" data-translate="navSchemes">Schemes</a>
                <a href="#disaster-alerts" class="hover:text-teal-600 transition duration-300" data-translate="navDisasterAlerts">Disaster Alerts</a>
                <a href="#live-reports" class="hover:text-teal-600 transition duration-300" data-translate="navReports">Reports</a>
                <a href="#live-map-dashboard" class="hover:text-teal-600 transition duration-300" data-translate="navDashboard">Dashboard</a>
                
                <!-- More Dropdown -->
                <div class="relative">
                    <button id="more-dropdown-button" class="flex items-center hover:text-teal-600 transition duration-300 focus:outline-none">
                        <span>More</span>
                        <i data-lucide="chevron-down" class="h-4 w-4 ml-1"></i>
                    </button>
                    <div id="more-dropdown-menu" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl py-2 z-50 border">
                        <a href="#offline-reporting" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navOffline">Offline Reporting</a>
                        <a href="#process" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navProcess">Process</a>
                        <a href="#rewards" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navRewards">Rewards</a>
                        <a href="#community-champions" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navChampions">Champions</a>
                        <a href="#impact" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navImpact">Impact</a>
                        <a href="#testimonials" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navVoices">Voices</a>
                        <a href="#faq" class="block px-4 py-2 text-sm text-gray-700 hover:bg-teal-50 hover:text-teal-600" data-translate="navFaq">FAQ</a>
                    </div>
                </div>
            </nav>
            <div class="flex items-center space-x-2 sm:space-x-4">
                 <div class="relative">
                    <select id="language-selector" class="appearance-none bg-transparent border-gray-300 rounded-md py-2 pl-3 pr-8 text-sm font-medium text-gray-600 focus:outline-none focus:ring-1 focus:ring-teal-500 focus:border-teal-500">
                        <option value="en">English</option>
                        <option value="hi">हिन्दी</option>
                    </select>
                    <i data-lucide="languages" class="absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500 pointer-events-none"></i>
                </div>
                 <a href="#" id="track-report-btn-desktop" class="btn btn-ghost hidden sm:block" data-translate="trackReportNav">Track Report</a>
                 <button id="citizen-login-btn-desktop" class="btn btn-primary hidden sm:flex items-center justify-center">
                    <i data-lucide="log-in" class="h-5 w-5 mr-2"></i>
                    <span data-translate="citizenLogin">Login / Sign Up</span>
                 </button>
            </div>
             <button id="mobile-menu-button" class="md:hidden text-gray-700">
                 <i data-lucide="menu"></i>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
             <a href="#features" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navFeaturesMobile">Features</a>
             <a href="#offline-reporting" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navOfflineMobile">Offline Reporting</a>
             <a href="#schemes" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navSchemesMobile">Schemes</a>
             <a href="#disaster-alerts" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navDisasterAlertsMobile">Disaster Alerts</a>
             <a href="#process" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navProcessMobile">Process</a>
             <a href="#live-reports" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navReportsMobile">Reports</a>
             <a href="#live-map-dashboard" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navDashboardMobile">Dashboard</a>
             <a href="#rewards" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navRewardsMobile">Rewards</a>
             <a href="#community-champions" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navChampionsMobile">Champions</a>
             <a href="#impact" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navImpactMobile">Impact</a>
             <a href="#testimonials" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navVoicesMobile">Voices</a>
             <a href="#faq" class="block py-2 text-gray-700 hover:text-teal-600" data-translate="navFaqMobile">FAQ</a>
             <div class="border-t mt-4 pt-4 space-y-2">
                 <button id="track-report-btn-mobile" class="btn btn-ghost w-full text-left" data-translate="trackReportNavMobile">Track Report</button>
                 <button id="citizen-login-btn-mobile" class="btn btn-primary w-full flex justify-center items-center">
                    <i data-lucide="log-in" class="h-5 w-5 mr-2"></i>
                    <span data-translate="citizenLoginMobile">Login / Sign Up</span>
                 </button>
                 <button id="official-login-btn-mobile" class="btn btn-secondary w-full text-left" data-translate="officialLoginMobile">Official Login</button>
            </div>
        </div>
    </header>

    <main>
        <section class="hero-bg overflow-hidden">
            <div class="container mx-auto px-6 pt-24 pb-20 md:pt-32 md:pb-28 flex flex-col lg:flex-row items-center gap-12">
                <div class="lg:w-1/2 text-center lg:text-left flex flex-col items-center lg:items-start">
                    <h2 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-text-dark leading-tight" data-translate="heroTitle">Your Voice, <br><span class="bg-clip-text text-transparent bg-gradient-to-r from-teal-500 to-cyan-600">Our City's Future.</span></h2>
                    <p class="mt-6 text-lg text-text-light max-w-xl" data-translate="heroSubtitle">Report civic issues, track their resolution, and collaborate with your community to build a better neighborhood. It's civic engagement, simplified.</p>
                    
                    <div class="mt-10 w-full max-w-xl bg-white/60 backdrop-blur-sm p-6 rounded-2xl border shadow-sm">
                        <label class="block text-sm font-semibold text-text-dark mb-3 text-center" data-translate="locationLabel">Select your location to get started</label>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div class="relative">
                                <i data-lucide="map-pin" class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"></i>
                                <select id="state-select" class="w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500 transition"> 
                                    <option selected>Jharkhand</option>
                                </select>
                            </div>
                            <div class="relative">
                                 <i data-lucide="map" class="absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"></i>
                                <select id="city-select" class="w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg focus:ring-teal-500 focus:border-teal-500 transition">
                                    <option selected disabled data-translate="selectCity">Select Area/City</option>
                                </select>
                            </div>
                        </div>
                         <button id="make-report-btn" class="btn btn-primary w-full mt-4 text-lg py-3">
                             <span class="flex items-center justify-center"><i data-lucide="plus-circle" class="mr-2"></i><span data-translate="makeReport">Make a Report</span></span>
                        </button>
                    </div>
                </div>
                <div class="lg:w-1/2 mt-12 lg:mt-0 flex items-center justify-center">
                    <svg viewBox="0 0 500 400" class="w-full max-w-lg h-auto">
                        <defs>
                            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                                <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                                <feMerge>
                                    <feMergeNode in="coloredBlur"/>
                                    <feMergeNode in="SourceGraphic"/>
                                </feMerge>
                            </filter>
                        </defs>
                        <path d="M 50 400 Q 150 300 250 350 T 450 300" fill="none" stroke="#e0f2f1" stroke-width="20" stroke-linecap="round" />
                        <path d="M 20 380 Q 120 280 220 330 T 420 280" fill="none" stroke="#e0f2f1" stroke-width="15" stroke-linecap="round" />

                        <rect x="200" y="150" width="100" height="150" rx="15" fill="#fff" stroke="#9ca3af" stroke-width="2" class="svg-fade-in" style="animation-delay: 0.5s;"/>
                        <circle cx="250" cy="165" r="3" fill="#d1d5db"/>
                        <rect x="215" y="180" width="70" height="10" rx="5" fill="#a7f3d0"/>
                        <rect x="215" y="200" width="70" height="40" rx="5" fill="#f3f4f6"/>
                         <rect x="225" y="210" width="50" height="5" rx="2" fill="#d1d5db"/>
                         <rect x="225" y="220" width="30" height="5" rx="2" fill="#d1d5db"/>

                        <g class="svg-fade-in" style="animation-delay: 1s;">
                            <circle cx="100" cy="150" r="15" fill="var(--secondary)" filter="url(#glow)"/>
                            <path d="M96 146 L104 154 M96 154 L104 146" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </g>
                        <g class="svg-fade-in" style="animation-delay: 1.3s;">
                            <circle cx="380" cy="100" r="15" fill="var(--accent)" filter="url(#glow)"/>
                            <rect x="375" y="95" width="10" height="10" fill="white" stroke="var(--accent)" stroke-width="1"/>
                        </g>
                         <g class="svg-fade-in" style="animation-delay: 1.6s;">
                            <circle cx="400" cy="250" r="15" fill="var(--primary)" filter="url(#glow)"/>
                             <path d="M400 242 L 400 258 M392 250 L 408 250" stroke="white" stroke-width="2" stroke-linecap="round"/>
                        </g>

                        <path d="M115 155 Q 180 180 200 190" fill="none" stroke="var(--secondary)" stroke-width="2" class="svg-draw-path" />
                        <path d="M365 105 Q 300 140 295 180" fill="none" stroke="var(--accent)" stroke-width="2" class="svg-draw-path" style="animation-delay: 1.2s;"/>
                        <path d="M385 245 Q 320 230 298 210" fill="none" stroke="var(--primary)" stroke-width="2" class="svg-draw-path" style="animation-delay: 1.4s;"/>
                    </svg>
                </div>
            </div>
        </section>

        <section id="features" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="featuresTag">WHY CIVICVOICE?</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="featuresTitle">A Platform Built for Change</h3>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="text-left feature-card reveal-on-scroll">
                         <div class="feature-icon flex items-center justify-center h-16 w-16 bg-teal-100 text-teal-600 rounded-2xl mb-6">
                            <i data-lucide="mic" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature1Title">Accessible Reporting</h4>
                        <p class="mt-2 text-text-light" data-translate="feature1Desc">Snap a photo or simply use your voice in any regional language to submit a report effortlessly.</p>
                    </div>
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 100ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-orange-100 text-orange-600 rounded-2xl mb-6">
                            <i data-lucide="gantt-chart-square" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature2Title">Transparent Tracking</h4>
                        <p class="mt-2 text-text-light" data-translate="feature2Desc">Get real-time updates and notifications as your report moves from acknowledged to resolved.</p>
                    </div>
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 200ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-amber-100 text-amber-600 rounded-2xl mb-6">
                            <i data-lucide="users-round" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature3Title">Community Prioritization</h4>
                        <p class="mt-2 text-text-light" data-translate="feature3Desc">Upvote existing issues to highlight their priority. Let the authorities know what matters most.</p>
                    </div>
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-sky-100 text-sky-600 rounded-2xl mb-6">
                            <i data-lucide="map-pin" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature4Title">Hyperlocal Focus</h4>
                        <p class="mt-2 text-text-light" data-translate="feature4Desc">Select your specific state and city to view and report issues that are relevant to your community.</p>
                    </div>
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 400ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-rose-100 text-rose-600 rounded-2xl mb-6">
                            <i data-lucide="award" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature5Title">Earn Community Rewards</h4>
                        <p class="mt-2 text-text-light" data-translate="feature5Desc">Get points for valid reports and verifications. Redeem them for cash rewards and climb the community leaderboard.</p>
                    </div>
                     <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 500ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-indigo-100 text-indigo-600 rounded-2xl mb-6">
                            <i data-lucide="shield-check" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature6Title">Secure User Portals</h4>
                        <p class="mt-2 text-text-light" data-translate="feature6Desc">Separate, secure login portals for citizens and government officials ensure data privacy and integrity.</p>
                    </div>
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 600ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-red-100 text-red-600 rounded-2xl mb-6">
                            <i data-lucide="shield-alert" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature7Title">Fake Report Detection</h4>
                        <p class="mt-2 text-text-light" data-translate="feature7Desc">Our AI-powered system analyzes report patterns to flag potential spam, ensuring that officials focus on genuine issues.</p>
                    </div>
                     <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 700ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-lime-100 text-lime-600 rounded-2xl mb-6">
                            <i data-lucide="bar-chart-3" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="feature8Title">Data-Driven Insights</h4>
                        <p class="mt-2 text-text-light" data-translate="feature8Desc">Officials get access to analytics dashboards to identify issue hotspots and improve resource allocation.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- OFFLINE REPORTING SECTION -->
        <section id="offline-reporting" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="offlineTag">FOR RURAL & LOW-CONNECTIVITY AREAS</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="offlineTitle">No Internet? No Problem.</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="offlineSubtitle">We ensure every citizen has a voice. Use these simple methods to report issues without needing an internet connection.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Missed Call Card -->
                    <div class="text-left offline-card reveal-on-scroll">
                        <div class="offline-icon flex items-center justify-center h-16 w-16 bg-blue-100 text-blue-600 rounded-2xl mb-6">
                            <i data-lucide="phone-missed" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="offline1Title">Missed Call Seva</h4>
                        <p class="mt-2 text-text-light" data-translate="offline1Desc">Give a missed call to our dedicated number. You will receive an automated callback to record your issue via an interactive voice response (IVR) system.</p>
                        <div class="mt-4 pt-4 border-t">
                            <p class="text-sm text-gray-500">Toll-Free Number:</p>
                            <p class="text-lg font-bold text-gray-800">1800-XXX-XXXX</p>
                        </div>
                    </div>
                    <!-- SMS Card -->
                    <div class="text-left offline-card reveal-on-scroll" style="transition-delay: 150ms;">
                        <div class="offline-icon flex items-center justify-center h-16 w-16 bg-green-100 text-green-600 rounded-2xl mb-6">
                            <i data-lucide="message-square-text" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="offline2Title">SMS Reporting</h4>
                        <p class="mt-2 text-text-light" data-translate="offline2Desc">Send an SMS with the issue type and your location details (pincode, landmark). You will get a confirmation SMS with a tracking ID.</p>
                        <div class="mt-4 pt-4 border-t">
                             <p class="text-sm text-gray-500">Send to:</p>
                            <p class="text-lg font-bold text-gray-800">56789</p>
                        </div>
                    </div>
                    <!-- Community Center Card -->
                    <div class="text-left offline-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <div class="offline-icon flex items-center justify-center h-16 w-16 bg-purple-100 text-purple-600 rounded-2xl mb-6">
                            <i data-lucide="building" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="offline3Title">Jan Seva Kendra</h4>
                        <p class="mt-2 text-text-light" data-translate="offline3Desc">Visit your nearest Community Service Center (Jan Seva Kendra). The operator will help you file a digital complaint using the CivicVoice portal.</p>
                         <div class="mt-4 pt-4 border-t">
                            <a href="#" class="text-sm font-semibold text-teal-600 hover:underline">Find Nearest Center &rarr;</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="schemes" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="schemesTag">GOVERNMENT INITIATIVES</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="schemesTitle">Stay Updated on Schemes</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="schemesSubtitle">Find information about beneficial government schemes and programs available to you.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Scheme Card 1 -->
                    <div class="text-left feature-card reveal-on-scroll">
                         <div class="feature-icon flex items-center justify-center h-16 w-16 bg-blue-100 text-blue-600 rounded-2xl mb-6">
                            <i data-lucide="home" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="scheme1Title">PM Awas Yojana</h4>
                        <p class="mt-2 text-text-light" data-translate="scheme1Desc">Affordable housing for all. Learn about eligibility and how to apply for the scheme.</p>
                        <button class="btn btn-dark mt-6 btn-sm"><span data-translate="learnMoreBtn">Learn More</span></button>
                    </div>
                    <!-- Scheme Card 2 -->
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 150ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-green-100 text-green-600 rounded-2xl mb-6">
                            <i data-lucide="heart-handshake" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="scheme2Title">Pension Schemes</h4>
                        <p class="mt-2 text-text-light" data-translate="scheme2Desc">Explore various pension schemes for senior citizens, widows, and differently-abled individuals.</p>
                         <button class="btn btn-dark mt-6 btn-sm"><span data-translate="learnMoreBtn">Learn More</span></button>
                    </div>
                    <!-- Scheme Card 3 -->
                    <div class="text-left feature-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <div class="feature-icon flex items-center justify-center h-16 w-16 bg-purple-100 text-purple-600 rounded-2xl mb-6">
                            <i data-lucide="graduation-cap" class="h-8 w-8"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="scheme3Title">Scholarship Programs</h4>
                        <p class="mt-2 text-text-light" data-translate="scheme3Desc">Information on state and central scholarship programs for students across various levels.</p>
                         <button class="btn btn-dark mt-6 btn-sm"><span data-translate="learnMoreBtn">Learn More</span></button>
                    </div>
                </div>
            </div>
        </section>

        <!-- DISASTER ALERTS SECTION -->
        <section id="disaster-alerts" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-red-600 font-semibold tracking-wider" data-translate="disasterTag">STAY PREPARED</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="disasterTitle">Disaster Preparedness & Alerts</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="disasterSubtitle">Get timely alerts, report critical situations, and access resources during emergencies. Your safety is our priority.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="text-center disaster-card reveal-on-scroll">
                         <div class="disaster-icon flex items-center justify-center h-20 w-20 bg-blue-100 text-blue-600 rounded-full mx-auto mb-6">
                            <i data-lucide="cloud-rain-wind" class="h-10 w-10"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="disaster1Title">Flooding & Water Logging</h4>
                        <p class="mt-2 text-text-light" data-translate="disaster1Desc">Check for real-time flood warnings, report severe water logging, and find routes to safety shelters near you.</p>
                        <button id="flood-alert-btn" class="btn btn-dark mt-6 btn-sm"><span data-translate="viewAlerts">View Alerts</span></button>
                    </div>
                    <div class="text-center disaster-card reveal-on-scroll" style="transition-delay: 150ms;">
                        <div class="disaster-icon flex items-center justify-center h-20 w-20 bg-red-100 text-red-600 rounded-full mx-auto mb-6">
                            <i data-lucide="flame" class="h-10 w-10"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="disaster2Title">Fire Incidents</h4>
                        <p class="mt-2 text-text-light" data-translate="disaster2Desc">Report a fire, view active incident zones on the map, and receive evacuation instructions from authorities.</p>
                        <button id="fire-alert-btn" class="btn btn-dark mt-6 btn-sm"><span data-translate="viewAlerts">View Alerts</span></button>
                    </div>
                    <div class="text-center disaster-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <div class="disaster-icon flex items-center justify-center h-20 w-20 bg-yellow-100 text-yellow-600 rounded-full mx-auto mb-6">
                            <i data-lucide="activity" class="h-10 w-10"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark" data-translate="disaster3Title">Earthquake & Tremors</h4>
                        <p class="mt-2 text-text-light" data-translate="disaster3Desc">Get immediate alerts on seismic activity. Report structural damages and find designated safe zones post-tremor.</p>
                        <button id="earthquake-alert-btn" class="btn btn-dark mt-6 btn-sm"><span data-translate="viewAlerts">View Alerts</span></button>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="process" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                 <div class="text-center mb-20">
                     <span class="text-teal-600 font-semibold tracking-wider" data-translate="processTag">3 EASY STEPS</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="processTitle">See It. Report It. Get It Fixed.</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="processSubtitle">We've designed a simple, transparent process to connect you directly with the departments that can make a difference.</p>
                </div>
                
                 <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-16 text-center">
                    <div class="flex flex-col items-center reveal-on-scroll">
                        <div class="flex items-center justify-center h-24 w-24 bg-teal-100 text-teal-600 rounded-full border-4 border-white shadow-lg">
                            <i data-lucide="smartphone" class="h-12 w-12"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark mt-6" data-translate="step1Title">1. Report in Seconds</h4>
                        <p class="mt-2 text-text-light" data-translate="step1Desc">Our intuitive form guides you to provide all necessary details quickly.</p>
                    </div>
                    
                    <div class="flex flex-col items-center reveal-on-scroll relative" style="transition-delay: 150ms;">
                        <i data-lucide="arrow-right" class="process-flow-arrow h-10 w-10"></i>
                         <div class="flex items-center justify-center h-24 w-24 bg-orange-100 text-orange-600 rounded-full border-4 border-white shadow-lg">
                            <i data-lucide="route" class="h-12 w-12"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark mt-6" data-translate="step2Title">2. Direct to the Right Team</h4>
                        <p class="mt-2 text-text-light" data-translate="step2Desc">We intelligently route your issue to the correct municipal department, saving time.</p>
                    </div>
                    
                    <div class="flex flex-col items-center reveal-on-scroll relative" style="transition-delay: 300ms;">
                         <i data-lucide="arrow-right" class="process-flow-arrow h-10 w-10"></i>
                         <div class="flex items-center justify-center h-24 w-24 bg-amber-100 text-amber-600 rounded-full border-4 border-white shadow-lg">
                            <i data-lucide="check-check" class="h-12 w-12"></i>
                        </div>
                        <h4 class="text-xl font-bold text-text-dark mt-6" data-translate="step3Title">3. Close the Loop</h4>
                        <p class="mt-2 text-text-light" data-translate="step3Desc">Get a final notification and photo proof when the issue is resolved.</p>
                    </div>
                </div>

            </div>
        </section>

       <section id="live-reports" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="reportsTag">LIVE FEED</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="reportsTitle">Live Community Reports</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="reportsSubtitle">See what's happening in your community in real-time. Your engagement helps prioritize action.</p>
                </div>

                <div class="flex justify-center mb-8">
                    <div class="bg-gray-200 p-1 rounded-lg">
                        <button id="ongoing-tab" class="tab-btn active py-2 px-6 font-semibold rounded-md" data-translate="ongoingIssuesTab">Ongoing Issues</button>
                        <button id="solved-tab" class="tab-btn py-2 px-6 font-semibold rounded-md" data-translate="solvedIssuesTab">Recently Solved</button>
                    </div>
                </div>

                <div id="ongoing-issues-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden report-card reveal-on-scroll" data-report-id="CIVIC-JSR-001">
                        <img src="https://images.loksattaimg.com/2022/07/pg-road-pathhole.jpg" alt="Pothole on a city street" class="w-full h-48 object-cover"/>
                        <div class="p-6">
                            <div class="flex justify-between items-start">
                                <div>
                                    <span class="text-xs font-semibold bg-orange-100 text-orange-800 px-2 py-1 rounded-full" data-translate="categoryRoads">Roads</span>
                                    <h4 class="text-lg font-bold mt-2 text-text-dark">Pothole near Sakchi Market</h4>
                                </div>
                                <button class="flex items-center space-x-2 text-gray-500 hover:text-teal-600 transition">
                                    <i data-lucide="arrow-up-circle" class="h-6 w-6"></i>
                                    <span class="font-bold">155</span>
                                </button>
                            </div>
                             <p class="text-sm text-gray-500 mt-2">Reported 3 days ago in <span class="font-medium">Jamshedpur</span></p>
                            <div class="mt-4">
                                <p class="text-sm font-semibold text-gray-600">Status: <span class="status-text">In Progress</span></p>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                    <div class="bg-orange-500 h-2.5 rounded-full" style="width: 45%"></div>
                                </div>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-100">
                                <button class="assign-task-btn hidden btn btn-dark w-full">
                                    <span class="flex items-center justify-center"><i data-lucide="send" class="h-4 w-4 mr-2"></i><span data-translate="assignTaskButton">Assign Task</span></span>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden report-card reveal-on-scroll" style="transition-delay: 150ms;" data-report-id="CIVIC-RNC-001">
                        <img src="https://th-i.thgim.com/public/migration_catalog/article13274116.ece/alternates/FREE_1200/HY05_P3_LEAD_GARBAGE" alt="Overflowing garbage bin" class="w-full h-48 object-cover">
                        <div class="p-6">
                             <div class="flex justify-between items-start">
                                <div>
                                    <span class="text-xs font-semibold bg-red-100 text-red-800 px-2 py-1 rounded-full" data-translate="categoryWaste">Waste</span>
                                    <h4 class="text-lg font-bold mt-2 text-text-dark">Garbage dump in Harmu</h4>
                                </div>
                                <button class="flex items-center space-x-2 text-gray-500 hover:text-teal-600 transition">
                                    <i data-lucide="arrow-up-circle" class="h-6 w-6"></i>
                                    <span class="font-bold">112</span>
                                </button>
                            </div>
                            <p class="text-sm text-gray-500 mt-2">Reported 1 day ago in <span class="font-medium">Ranchi</span></p>
                            <div class="mt-4">
                                <p class="text-sm font-semibold text-gray-600">Status: <span class="status-text">Acknowledged</span></p>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                    <div class="bg-red-500 h-2.5 rounded-full" style="width: 20%"></div>
                                </div>
                            </div>
                             <div class="mt-4 pt-4 border-t border-gray-100">
                                <button class="assign-task-btn hidden btn btn-dark w-full">
                                    <span class="flex items-center justify-center"><i data-lucide="send" class="h-4 w-4 mr-2"></i><span data-translate="assignTaskButton">Assign Task</span></span>
                                </button>
                            </div>
                        </div>
                    </div>
                     <div class="bg-white rounded-xl shadow-lg overflow-hidden report-card reveal-on-scroll" style="transition-delay: 300ms;" data-report-id="CIVIC-DHN-001">
                        <img src="https://resize.indiatvnews.com/en/resize/newbucket/355_-/2018/07/rains-1-1531764418.jpg" alt="A waterlogged street" class="w-full h-48 object-cover">
                        <div class="p-6">
                             <div class="flex justify-between items-start">
                                <div>
                                    <span class="text-xs font-semibold bg-cyan-100 text-cyan-800 px-2 py-1 rounded-full">Water</span>
                                    <h4 class="text-lg font-bold mt-2 text-text-dark">Water Logging near City Centre</h4>
                                </div>
                                <button class="flex items-center space-x-2 text-gray-500 hover:text-teal-600 transition">
                                    <i data-lucide="arrow-up-circle" class="h-6 w-6"></i>
                                    <span class="font-bold">45</span>
                                </button>
                            </div>
                            <p class="text-sm text-gray-500 mt-2">Reported 12 hours ago in <span class="font-medium">Dhanbad</span></p>
                            <div class="mt-4">
                                <p class="text-sm font-semibold text-gray-600">Status: <span class="status-text">Reported</span></p>
                                <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                    <div class="bg-cyan-500 h-2.5 rounded-full" style="width: 10%"></div>
                                </div>
                            </div>
                             <div class="mt-4 pt-4 border-t border-gray-100">
                                <button class="assign-task-btn hidden btn btn-dark w-full">
                                    <span class="flex items-center justify-center"><i data-lucide="send" class="h-4 w-4 mr-2"></i><span data-translate="assignTaskButton">Assign Task</span></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="solved-issues-grid" class="hidden grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-xl shadow-lg overflow-hidden report-card">
                        <img src="https://images.indianexpress.com/2023/06/cats-1.jpg" alt="A working streetlight at dusk" class="w-full h-48 object-cover"/>
                        <div class="p-6">
                            <span class="text-xs font-semibold bg-blue-100 text-blue-800 px-2 py-1 rounded-full" data-translate="categoryInfrastructure">Infrastructure</span>
                            <h4 class="text-lg font-bold mt-2 text-text-dark">Streetlight Fixed in Bistupur</h4>
                            <div class="mt-4 flex items-center space-x-2">
                                <i data-lucide="check-circle-2" class="h-6 w-6 text-green-500"></i>
                                <p class="font-semibold text-green-600">Resolved 5 days ago in Jamshedpur</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden report-card">
                        <img src="https://media.istockphoto.com/id/1257926761/photo/curved-path.jpg?s=612x612&w=0&k=20&c=GC4J1QDvCrVA2O7jX6rao41nBz_cLKKjdPakZCyZRKM=" alt="A clean park pathway" class="w-full h-48 object-cover"/>
                        <div class="p-6">
                            <span class="text-xs font-semibold bg-green-100 text-green-800 px-2 py-1 rounded-full" data-translate="categoryParks">Parks</span>
                            <h4 class="text-lg font-bold mt-2 text-text-dark">Rock Garden pathway cleaned</h4>
                            <div class="mt-4 flex items-center space-x-2">
                                <i data-lucide="check-circle-2" class="h-6 w-6 text-green-500"></i>
                                <p class="font-semibold text-green-600">Resolved 2 week ago in Ranchi</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MERGED LIVE MAP & HEATMAP SECTION -->
        <section id="live-map-dashboard" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="liveMapTag">FOR OFFICIALS</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="liveMapTitle">Live Issue Dashboard & Analytics</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="liveMapSubtitle">Visualize issue hotspots with a real-time map. Toggle between pins and a heatmap view for powerful, data-driven insights.</p>
                </div>

                <div class="bg-white p-4 sm:p-6 rounded-2xl shadow-lg border mb-8 reveal-on-scroll">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 items-center">
                        <!-- Filters -->
                        <div class="lg:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4">
                            <div>
                                <label for="map-filter-category" class="text-sm font-medium text-gray-700" data-translate="filterCategory">Category</label>
                                <select id="map-filter-category" class="mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500">
                                    <option value="all">All</option>
                                    <option value="Pothole">Pothole</option>
                                    <option value="Garbage">Garbage</option>
                                    <option value="Streetlight">Streetlight</option>
                                    <option value="Water">Water</option>
                                </select>
                            </div>
                            <div>
                                <label for="map-filter-status" class="text-sm font-medium text-gray-700" data-translate="filterStatus">Status</label>
                                <select id="map-filter-status" class="mt-1 w-full rounded-md border-gray-300 shadow-sm focus:border-teal-500 focus:ring-teal-500">
                                    <option value="all">All</option>
                                    <option value="Reported">Reported</option>
                                    <option value="Acknowledged">Acknowledged</option>
                                    <option value="In Progress">In Progress</option>
                                    <option value="Resolved">Resolved</option>
                                </select>
                            </div>
                        </div>

                        <!-- Toggles -->
                        <div class="lg:col-span-1 flex flex-row lg:flex-col justify-start items-start lg:items-center pt-4 lg:pt-0">
                             <label class="flex items-center space-x-2 cursor-pointer mr-4 lg:mr-0 lg:mb-2">
                                <input type="checkbox" id="toggle-pins" class="form-checkbox h-5 w-5 text-teal-600 rounded" checked>
                                <span class="text-sm font-medium" data-translate="togglePins">Show Pins</span>
                            </label>
                            <label class="flex items-center space-x-2 cursor-pointer">
                                <input type="checkbox" id="toggle-heatmap" class="form-checkbox h-5 w-5 text-teal-600 rounded">
                                <span class="text-sm font-medium" data-translate="toggleHeatmap">Show Heatmap</span>
                            </label>
                        </div>

                        <!-- Stats -->
                        <div class="lg:col-span-2 grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-2 gap-2 text-center pt-4 md:pt-0 border-t md:border-t-0 md:border-l pl-0 md:pl-4 mt-4 md:mt-0">
                            <div class="p-2">
                                <p id="stat-total" class="text-2xl font-bold text-teal-600">0</p>
                                <p class="text-xs text-gray-500" data-translate="statTotal">Total Reports</p>
                            </div>
                             <div class="p-2">
                                <p id="stat-resolved" class="text-2xl font-bold text-green-600">0</p>
                                <p class="text-xs text-gray-500" data-translate="statResolved">Resolved</p>
                            </div>
                             <div class="p-2">
                                <p id="stat-in-progress" class="text-2xl font-bold text-orange-600">0</p>
                                <p class="text-xs text-gray-500" data-translate="statInProgress">In Progress</p>
                            </div>
                             <div class="p-2">
                                <p id="stat-reported" class="text-2xl font-bold text-red-600">0</p>
                                <p class="text-xs text-gray-500" data-translate="statReported">Newly Reported</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="live-map" class="w-full h-[600px] rounded-2xl shadow-xl border reveal-on-scroll"></div>
            </div>
        </section>

        <!-- Agent Dashboard Section -->
        <section id="agent-dashboard" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="dashboardTag">FOR DEPARTMENT HEADS</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="dashboardTitle">Field Agent Management</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="dashboardSubtitle">Track your team's performance, manage assignments, and optimize workflow in real-time.</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Agent Card 1 -->
                    <div class="bg-white rounded-xl shadow-lg p-6 reveal-on-scroll">
                        <div class="flex items-center mb-4">
                            <img src="https://placehold.co/60x60/1e293b/ffffff?text=RK" class="rounded-full" alt="Agent Avatar">
                            <div class="ml-4">
                                <p class="font-bold text-lg text-text-dark">Ramesh Kumar</p>
                                <span class="text-xs font-semibold bg-green-100 text-green-800 px-2 py-1 rounded-full">On Duty</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-center my-4">
                            <div>
                                <p class="text-2xl font-bold text-teal-600">3</p>
                                <p class="text-xs text-text-light">Active Tasks</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-teal-600">1.8d</p>
                                <p class="text-xs text-text-light">Avg. Resolution</p>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-semibold text-text-dark mb-2">Current Assignments:</h5>
                            <ul class="space-y-2 text-sm text-text-light max-h-32 overflow-y-auto">
                                <li class="p-2 bg-slate-50 rounded-md">#CIVIC-JSR-001: Pothole near Sakchi</li>
                                <li class="p-2 bg-slate-50 rounded-md">#CIVIC-RNC-001: Garbage dump in Harmu</li>
                                <li class="p-2 bg-slate-50 rounded-md">#CIVIC-DHN-001: Water Logging near City Centre</li>
                            </ul>
                        </div>
                    </div>
                     <!-- Agent Card 2 -->
                    <div class="bg-white rounded-xl shadow-lg p-6 reveal-on-scroll" style="transition-delay:150ms;">
                        <div class="flex items-center mb-4">
                            <img src="https://placehold.co/60x60/1e293b/ffffff?text=SS" class="rounded-full" alt="Agent Avatar">
                            <div class="ml-4">
                                <p class="font-bold text-lg text-text-dark">Sunita Sharma</p>
                                <span class="text-xs font-semibold bg-green-100 text-green-800 px-2 py-1 rounded-full">On Duty</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-center my-4">
                            <div>
                                <p class="text-2xl font-bold text-teal-600">2</p>
                                <p class="text-xs text-text-light">Active Tasks</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-teal-600">2.1d</p>
                                <p class="text-xs text-text-light">Avg. Resolution</p>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-semibold text-text-dark mb-2">Current Assignments:</h5>
                            <ul class="space-y-2 text-sm text-text-light max-h-32 overflow-y-auto">
                                <li class="p-2 bg-slate-50 rounded-md">#CIVIC-RNC-002: Broken streetlight</li>
                                <li class="p-2 bg-slate-50 rounded-md">#CIVIC-JSR-002: Damaged public bench</li>
                            </ul>
                        </div>
                    </div>
                     <!-- Agent Card 3 -->
                    <div class="bg-white rounded-xl shadow-lg p-6 reveal-on-scroll" style="transition-delay:300ms;">
                        <div class="flex items-center mb-4">
                            <img src="https://placehold.co/60x60/1e293b/ffffff?text=AS" class="rounded-full" alt="Agent Avatar">
                            <div class="ml-4">
                                <p class="font-bold text-lg text-text-dark">Anil Singh</p>
                                <span class="text-xs font-semibold bg-amber-100 text-amber-800 px-2 py-1 rounded-full">Idle</span>
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-center my-4">
                            <div>
                                <p class="text-2xl font-bold text-gray-400">0</p>
                                <p class="text-xs text-text-light">Active Tasks</p>
                            </div>
                            <div>
                                <p class="text-2xl font-bold text-gray-400">2.5d</p>
                                <p class="text-xs text-text-light">Avg. Resolution</p>
                            </div>
                        </div>
                        <div>
                            <h5 class="font-semibold text-text-dark mb-2">Current Assignments:</h5>
                            <div class="text-center p-4 text-sm text-gray-500">No active assignments.</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <div class="shape-divider">
            <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
                <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
            </svg>
        </div>
        <section id="rewards" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="grid lg:grid-cols-2 gap-16 items-center">
                    <div class="reveal-on-scroll text-center lg:text-left">
                        <span class="text-teal-600 font-semibold tracking-wider" data-translate="rewardsTag">BECOME A CHAMPION</span>
                        <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="rewardsTitle">Earn Rewards for Your Contribution</h3>
                        <p class="mt-4 text-text-light text-lg" data-translate="rewardsSubtitle">We believe active citizenship should be recognized. Our rewards system encourages you to make a tangible impact on your community.</p>
                        <div class="mt-8 space-y-6">
                            <div class="flex items-start">
                                <div class="flex-shrink-0 h-10 w-10 flex items-center justify-center bg-teal-100 text-teal-600 rounded-lg">
                                    <i data-lucide="plus-circle"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-lg font-bold" data-translate="reward1Title">Report & Earn Points</h4>
                                    <p class="text-text-light" data-translate="reward1Desc">Receive points for every valid issue you report that gets acknowledged by the authorities.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 h-10 w-10 flex items-center justify-center bg-orange-100 text-orange-600 rounded-lg">
                                    <i data-lucide="check-circle"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-lg font-bold" data-translate="reward2Title">Verify Resolutions</h4>
                                    <p class="text-text-light" data-translate="reward2Desc">Help us confirm when an issue is properly resolved and earn bonus points for your verification.</p>
                                </div>
                            </div>
                            <div class="flex items-start">
                                <div class="flex-shrink-0 h-10 w-10 flex items-center justify-center bg-amber-100 text-amber-600 rounded-lg">
                                    <i data-lucide="gift"></i>
                                </div>
                                <div class="ml-4">
                                    <h4 class="text-lg font-bold" data-translate="reward3Title">Redeem for Cash Rewards</h4>
                                    <p class="text-text-light" data-translate="reward3Desc">Accumulate points and redeem them for exciting cash rewards, vouchers, and other perks.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="hidden lg:flex items-center justify-center reveal-on-scroll" style="transition-delay: 150ms;">
                        <img src="https://placehold.co/500x500/f0fdfa/0d9488?text=Rewards+Trophy" alt="Illustration of a trophy and rewards" class="rounded-2xl shadow-xl">
                    </div>
                </div>
            </div>
        </section>

        <!-- NEW COMMUNITY CHAMPIONS SECTION -->
        <section id="community-champions" class="py-24 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="championsTag">GAMIFICATION</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="championsTitle">Become a Community Champion</h3>
                    <p class="mt-4 text-text-light max-w-2xl mx-auto" data-translate="championsSubtitle">Earn badges for your contributions and climb the leaderboard to become a recognized voice in your community.</p>
                </div>
                <div class="grid lg:grid-cols-2 gap-12 items-start">
                    <div>
                        <h4 class="text-2xl font-bold text-text-dark mb-6 text-center lg:text-left" data-translate="badgesTitle">Achievement Badges</h4>
                        <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                            <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 text-center reveal-on-scroll">
                                <div class="flex items-center justify-center h-16 w-16 bg-orange-100 text-orange-600 rounded-full mx-auto mb-4">
                                    <i data-lucide="wrench" class="h-8 w-8"></i>
                                </div>
                                <h5 class="font-bold text-text-dark" data-translate="badge1Title">Pothole Pioneer</h5>
                                <p class="text-sm text-text-light mt-1" data-translate="badge1Desc">Report 10 road-related issues.</p>
                            </div>
                             <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 text-center reveal-on-scroll" style="transition-delay: 100ms;">
                                <div class="flex items-center justify-center h-16 w-16 bg-green-100 text-green-600 rounded-full mx-auto mb-4">
                                    <i data-lucide="check-check" class="h-8 w-8"></i>
                                </div>
                                <h5 class="font-bold text-text-dark" data-translate="badge2Title">Community Verifier</h5>
                                <p class="text-sm text-text-light mt-1" data-translate="badge2Desc">Confirm 5 resolved tasks.</p>
                            </div>
                             <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 text-center reveal-on-scroll" style="transition-delay: 200ms;">
                                <div class="flex items-center justify-center h-16 w-16 bg-sky-100 text-sky-600 rounded-full mx-auto mb-4">
                                    <i data-lucide="sparkles" class="h-8 w-8"></i>
                                </div>
                                <h5 class="font-bold text-text-dark" data-translate="badge3Title">Civic Starter</h5>
                                <p class="text-sm text-text-light mt-1" data-translate="badge3Desc">Submit your first valid report.</p>
                            </div>
                             <div class="bg-slate-50 p-6 rounded-xl border border-slate-200 text-center reveal-on-scroll" style="transition-delay: 300ms;">
                                <div class="flex items-center justify-center h-16 w-16 bg-rose-100 text-rose-600 rounded-full mx-auto mb-4">
                                    <i data-lucide="heart" class="h-8 w-8"></i>
                                </div>
                                <h5 class="font-bold text-text-dark" data-translate="badge4Title">Neighborhood Hero</h5>
                                <p class="text-sm text-text-light mt-1" data-translate="badge4Desc">Reach 1000 community points.</p>
                            </div>
                        </div>
                    </div>
                    <div>
                         <h4 class="text-2xl font-bold text-text-dark mb-6 text-center lg:text-left" data-translate="leaderboardTitle">Community Leaderboard</h4>
                         <div class="bg-white rounded-xl shadow-lg border reveal-on-scroll" style="transition-delay: 150ms;">
                             <ul class="divide-y divide-slate-200">
                                 <li class="p-4 flex items-center justify-between">
                                     <div class="flex items-center">
                                         <span class="font-bold text-lg text-amber-500 mr-4">1.</span>
                                         <img src="https://placehold.co/40x40/f59e0b/ffffff?text=A" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Aditya</p>
                                             <p class="text-sm text-text-light">Level 12 - Elite Citizen</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">5,400 pts</span>
                                 </li>
                                 <li class="p-4 flex items-center justify-between bg-slate-50">
                                     <div class="flex items-center">
                                         <span class="font-bold text-lg text-slate-400 mr-4">2.</span>
                                         <img src="https://placehold.co/40x40/64748b/ffffff?text=Y" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Yagik</p>
                                             <p class="text-sm text-text-light">Level 11 - Super Citizen</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">4,950 pts</span>
                                 </li>
                                  <li class="p-4 flex items-center justify-between">
                                     <div class="flex items-center">
                                         <span class="font-bold text-lg text-orange-700 mr-4">3.</span>
                                         <img src="https://placehold.co/40x40/c2410c/ffffff?text=A" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Aryaman</p>
                                             <p class="text-sm text-text-light">Level 10 - Active Citizen</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">4,550 pts</span>
                                 </li>
                                 <li class="p-4 flex items-center justify-between bg-slate-50">
                                     <div class="flex items-center">
                                         <span class="font-semibold text-text-light mr-4">4.</span>
                                         <img src="https://placehold.co/40x40/475569/ffffff?text=N" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Nishank</p>
                                             <p class="text-sm text-text-light">Level 9 - Engaged Citizen</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">4,210 pts</span>
                                 </li>
                                 <li class="p-4 flex items-center justify-between">
                                     <div class="flex items-center">
                                         <span class="font-semibold text-text-light mr-4">5.</span>
                                         <img src="https://placehold.co/40x40/475569/ffffff?text=D" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Divita</p>
                                             <p class="text-sm text-text-light">Level 8 - Active Contributor</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">3,950 pts</span>
                                 </li>
                                 <li class="p-4 flex items-center justify-between bg-slate-50">
                                     <div class="flex items-center">
                                         <span class="font-semibold text-text-light mr-4">6.</span>
                                         <img src="https://placehold.co/40x40/475569/ffffff?text=A" class="rounded-full" alt="User Avatar">
                                         <div class="ml-3">
                                             <p class="font-semibold text-text-dark">Atharva</p>
                                             <p class="text-sm text-text-light">Level 8 - Active Contributor</p>
                                         </div>
                                     </div>
                                     <span class="font-bold text-teal-600">3,720 pts</span>
                                 </li>
                             </ul>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="redeem-rewards" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="redeemTitle">Redeem Your Points</h3>
                    <p class="mt-4 text-text-light text-lg max-w-2xl mx-auto" data-translate="redeemSubtitle">Turn your community efforts into tangible rewards. Here’s what you can get with your points.</p>
                </div>

                <div class="max-w-4xl mx-auto">
                    <div class="bg-white p-6 rounded-2xl shadow-lg border text-center mb-8 reveal-on-scroll">
                        <p class="text-lg text-text-light" data-translate="yourBalance">Your Balance</p>
                        <p class="text-5xl font-extrabold text-teal-600 mt-2">1250 <span class="text-3xl text-gray-500" data-translate="points">Points</span></p>
                    </div>

                    <div class="text-center reveal-on-scroll" style="transition-delay: 150ms;">
                        <button id="open-redeem-modal-btn" class="btn btn-primary text-lg py-4 px-8">
                            <span data-translate="redeemMainButton">Redeem Your Points</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section id="impact" class="py-24 bg-white">
             <div class="container mx-auto px-6 text-center">
                 <h3 class="text-3xl lg:text-4xl font-bold text-text-dark" data-translate="impactTitle">Our Community's Scoreboard</h3>
                 <p class="mt-3 max-w-2xl mx-auto text-text-light" data-translate="impactSubtitle">Small actions, when multiplied by thousands of people, can transform a city.</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
                     <div class="bg-slate-50 p-8 rounded-2xl border">
                         <i data-lucide="check-badge" class="h-12 w-12 text-teal-500 mx-auto mb-4"></i>
                         <p class="text-5xl font-extrabold text-teal-600">50,000+</p>
                         <p class="text-text-light font-semibold mt-2" data-translate="impact1">Issues Resolved</p>
                    </div>
                     <div class="bg-slate-50 p-8 rounded-2xl border">
                         <i data-lucide="users" class="h-12 w-12 text-orange-500 mx-auto mb-4"></i>
                         <p class="text-5xl font-extrabold text-orange-600">25,000+</p>
                         <p class="text-text-light font-semibold mt-2" data-translate="impact2">Active Citizens</p>
                    </div>
                     <div class="bg-slate-50 p-8 rounded-2xl border">
                         <i data-lucide="star" class="h-12 w-12 text-amber-500 mx-auto mb-4 fill-amber-400"></i>
                         <p class="text-5xl font-extrabold text-amber-600">4.9 <span class="text-3xl">/ 5</span></p>
                         <p class="text-text-light font-semibold mt-2" data-translate="impact3">Average Rating</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="testimonials" class="py-24 bg-slate-100">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="testimonialsTag">REAL STORIES, REAL IMPACT</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="testimonialsTitle">What Our Users Are Saying</h3>
                </div>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <div class="testimonial-card reveal-on-scroll">
                        <p class="text-lg font-medium relative z-10">"The water logging issue in our colony was a recurring problem every monsoon. After reporting it on CivicVoice, the municipal team came and cleared the drains properly. It's a huge relief!"</p>
                        <div class="mt-6 relative z-10">
                            <p class="font-bold text-white">Yagik Garg</p>
                            <p class="text-sm text-teal-200">Kanke Road Resident, Ranchi</p>
                        </div>
                    </div>
                     <div class="testimonial-card reveal-on-scroll" style="transition-delay: 150ms;">
                        <p class="text-lg font-medium relative z-10">"As a municipal officer in Dhanbad, CivicVoice helps us pinpoint exact locations of issues like broken streetlights. It makes our job more efficient and the citizens feel heard."</p>
                         <div class="mt-6 relative z-10">
                            <p class="font-bold text-white">Aryaman Prasar</p>
                            <p class="text-sm text-teal-200">Municipal Corporation Official, Dhanbad</p>
                        </div>
                    </div>
                     <div class="testimonial-card reveal-on-scroll" style="transition-delay: 300ms;">
                        <p class="text-lg font-medium relative z-10">"It's empowering to see my report getting upvoted by neighbours. We managed to get a new streetlight installed in our lane by showing collective demand through the app."</p>
                         <div class="mt-6 relative z-10">
                            <p class="font-bold text-white">Aditya Jha</p>
                            <p class="text-sm text-teal-200">Adityapur Community Member, Jamshedpur</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="faq" class="py-24 bg-white">
            <div class="container mx-auto px-6 max-w-4xl">
                <div class="text-center mb-16">
                    <span class="text-teal-600 font-semibold tracking-wider" data-translate="faqTag">HAVE QUESTIONS?</span>
                    <h3 class="text-3xl lg:text-4xl font-bold text-text-dark mt-2" data-translate="faqTitle">Frequently Asked Questions</h3>
                </div>
                <div class="space-y-4">
                    <div class="faq-item bg-white rounded-lg shadow-sm border border-gray-200 reveal-on-scroll">
                        <div class="faq-question flex justify-between items-center p-6">
                            <h4 class="font-semibold text-lg text-text-dark" data-translate="faq1Question">What kind of issues can I report?</h4>
                            <i data-lucide="chevron-down" class="faq-arrow text-gray-500"></i>
                        </div>
                        <div class="faq-answer px-6 pb-4 text-text-light">
                            <p data-translate="faq1Answer">You can report a wide range of non-emergency issues such as potholes, broken streetlights, garbage overflow, water logging, damaged public property, and more. If you're unsure, it's always best to report it.</p>
                        </div>
                    </div>
                    <div class="faq-item bg-white rounded-lg shadow-sm border border-gray-200 reveal-on-scroll" style="transition-delay: 100ms;">
                        <div class="faq-question flex justify-between items-center p-6">
                            <h4 class="font-semibold text-lg text-text-dark" data-translate="faq2Question">Is my data private?</h4>
                            <i data-lucide="chevron-down" class="faq-arrow text-gray-500"></i>
                        </div>
                        <div class="faq-answer px-6 pb-4 text-text-light">
                            <p data-translate="faq2Answer">Yes, absolutely. While the location and description of the issue are public, your personal information (name, contact details) is kept confidential and is only shared with the relevant municipal authorities for communication regarding your report.</p>
                        </div>
                    </div>
                    <div class="faq-item bg-white rounded-lg shadow-sm border border-gray-200 reveal-on-scroll" style="transition-delay: 200ms;">
                        <div class="faq-question flex justify-between items-center p-6">
                            <h4 class="font-semibold text-lg text-text-dark" data-translate="faq3Question">Is the service available in my city?</h4>
                            <i data-lucide="chevron-down" class="faq-arrow text-gray-500"></i>
                        </div>
                        <div class="faq-answer px-6 pb-4 text-text-light">
                            <p>We are actively expanding our network of partner municipalities. Currently, we are operational in Ranchi, Jamshedpur, and Dhanbad. Sign up to be notified when we launch in other cities of Jharkhand!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    </main>

    <footer class="bg-gray-900 text-white">
        <div class="container mx-auto px-6 py-12">
             <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-8">
                <div class="col-span-2 lg:col-span-1">
                    <h4 class="font-bold text-lg mb-4" data-translate="footerAppName">CivicVoice</h4>
                    <p class="text-gray-400 text-sm" data-translate="footerSlogan">Your Voice, Amplified.</p>
                </div>
                <div>
                     <h5 class="font-semibold mb-4 text-gray-300" data-translate="footerPlatform">Platform</h5>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerFeatures">Features</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerGov">For Governments</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerSuccess">Success Stories</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="font-semibold mb-4 text-gray-300" data-translate="footerCompany">Company</h5>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerAbout">About Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerCareers">Careers</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerContact">Contact</a></li>
                    </ul>
                </div>
                 <div>
                    <h5 class="font-semibold mb-4 text-gray-300" data-translate="footerLegal">Legal</h5>
                    <ul class="space-y-3">
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerPrivacy">Privacy Policy</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white text-sm" data-translate="footerTerms">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="col-span-2 md:col-span-1">
                     <h5 class="font-semibold mb-4 text-gray-300" data-translate="footerConnect">Connect</h5>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="facebook"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i data-lucide="instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500 text-sm">
                <p data-translate="footerCredit">&copy; 2025 CivicVoice. Made with ❤ in India.</p>
            </div>
        </div>
    </footer>
    
    <div id="chatbot-container" class="fixed bottom-8 right-8 z-50">
        <div id="chatbot-window" class="hidden w-80 h-96 bg-white rounded-2xl shadow-2xl flex flex-col transform translate-y-4 opacity-0">
            <div class="flex justify-between items-center p-4 bg-teal-600 text-white rounded-t-2xl">
                <h3 class="font-bold">Civic Assistant</h3>
                <button id="chatbot-close-btn" class="hover:text-gray-200">
                    <i data-lucide="x" class="h-5 w-5"></i>
                </button>
            </div>
            <div id="chatbot-messages" class="flex-1 p-4 space-y-4 overflow-y-auto">
                <div class="chat-bubble-bot p-3 max-w-xs">
                    <p class="text-sm">Hello! How can I help you today?</p>
                </div>
            </div>
            <form id="chatbot-form" class="p-4 border-t flex items-center">
                <input id="chatbot-input" type="text" placeholder="Ask a question..." class="w-full px-4 py-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-teal-500">
                <button type="submit" class="ml-3 bg-teal-600 text-white p-2 rounded-full hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500">
                    <i data-lucide="send" class="h-5 w-5"></i>
                </button>
            </form>
        </div>
        <button id="chatbot-toggle-btn" class="bg-teal-600 text-white w-16 h-16 rounded-full shadow-lg flex items-center justify-center btn-primary">
            <i data-lucide="message-circle" class="h-8 w-8"></i>
        </button>
    </div>

    <div id="login-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-md p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-login-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                <div>
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-6" aria-label="Tabs">
                            <button id="citizen-tab" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-teal-500 text-teal-600" data-translate="modalCitizenTab">
                                Citizen
                            </button>
                            <button id="official-tab" class="whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" data-translate="modalOfficialTab">
                                Official Login
                            </button>
                        </nav>
                    </div>

                    <div id="citizen-form">
                        <div id="citizen-step-1">
                            <h3 class="text-2xl font-bold text-center text-gray-800 mt-6" data-translate="modalCitizenTitle">Welcome!</h3>
                            <p class="text-center text-gray-500 mt-2" data-translate="modalCitizenSubtitle">Enter your details to login or sign up.</p>
                            <form id="citizen-otp-form" class="mt-8 space-y-6">
                                <div>
                                    <label for="citizen-contact" class="block text-sm font-medium text-gray-700" data-translate="modalCitizenInputLabel">Phone Number or Gmail</label>
                                    <input type="text" name="citizen-contact" id="citizen-contact" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="e.g., 9876543210 or name@gmail.com">
                                </div>
                                <button type="submit" class="btn btn-primary w-full flex justify-center py-3 text-lg" data-translate="modalCitizenButton">
                                    Send OTP
                                </button>
                            </form>
                        </div>
                        <div id="citizen-step-2" class="hidden">
                             <h3 class="text-2xl font-bold text-center text-gray-800 mt-6" data-translate="modalOtpTitle">Enter OTP</h3>
                             <p class="text-center text-gray-500 mt-2" data-translate="modalOtpSubtitle">An OTP has been sent to your device.</p>
                             <form class="mt-8 space-y-6">
                                <div>
                                    <label for="otp-input" class="block text-sm font-medium text-gray-700">One-Time Password</label>
                                    <input type="text" name="otp-input" id="otp-input" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Enter the 6-digit code">
                                </div>
                                <button type="submit" class="btn btn-primary w-full flex justify-center py-3 text-lg" data-translate="modalOtpButton">
                                    Verify & Login
                                </button>
                                <button type="button" id="back-to-login-btn" class="btn btn-ghost w-full">Back to login</button>
                             </form>
                        </div>
                    </div>

                    <div id="official-form" class="mt-6 hidden">
                        <h3 class="text-2xl font-bold text-center text-gray-800" data-translate="modalOfficialTitle">Official Portal</h3>
                         <p class="text-center text-gray-500 mt-2" data-translate="modalOfficialSubtitle">Login with your employee credentials.</p>
                        <form id="official-login-form" class="mt-8 space-y-6">
                            <div>
                                <label for="employee-id" class="block text-sm font-medium text-gray-700" data-translate="modalOfficialInput1">Employee ID</label>
                                <input type="text" name="employee-id" id="employee-id" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Enter your Employee ID">
                            </div>
                            <div>
                                <div class="flex justify-between">
                                    <label for="password" class="block text-sm font-medium text-gray-700" data-translate="modalOfficialInput2">Password</label>
                                    <a href="#" class="text-sm font-medium text-teal-600 hover:text-teal-500" data-translate="modalForgotPassword">Forgot password?</a>
                                </div>
                                <input type="password" name="password" id="password" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Enter your password">
                            </div>
                            <button type="submit" class="btn btn-dark w-full flex justify-center py-3 text-lg" data-translate="modalOfficialButton">
                                Login
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="report-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-2xl p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-report-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                
                <div id="report-form-content">
                    <h3 class="text-2xl font-bold text-center text-gray-800" data-translate="reportModalTitle">Report a Civic Issue</h3>
                    
                    <div class="flex justify-center items-center my-6 space-x-4">
                        <div id="step-indicator-1" class="step-indicator flex items-center text-teal-600">
                            <div class="w-8 h-8 rounded-full bg-teal-600 text-white flex items-center justify-center font-bold">1</div>
                            <span class="ml-2 font-semibold" data-translate="reportStep1">Details</span>
                        </div>
                        <div class="flex-1 h-0.5 bg-gray-200"></div>
                        <div id="step-indicator-2" class="step-indicator flex items-center text-gray-400">
                            <div class="w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold">2</div>
                            <span class="ml-2 font-semibold" data-translate="reportStep2">Location</span>
                        </div>
                        <div class="flex-1 h-0.5 bg-gray-200"></div>
                        <div id="step-indicator-3" class="step-indicator flex items-center text-gray-400">
                            <div class="w-8 h-8 rounded-full bg-gray-200 text-gray-500 flex items-center justify-center font-bold">3</div>
                            <span class="ml-2 font-semibold" data-translate="reportStep3">Submit</span>
                        </div>
                    </div>
                    
                    <form id="report-form" class="mt-8 space-y-6">
                        <div id="form-step-1">
                            <div id="report-step-1-form">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div>
                                        <label for="issue-category" class="block text-sm font-medium text-gray-700" data-translate="reportCategory">Issue Category</label>
                                        <select id="issue-category" name="issue-category" class="mt-1 block w-full pl-3 pr-10 py-3 text-base border-gray-300 focus:outline-none focus:ring-teal-500 focus:border-teal-500 sm:text-sm rounded-md border">
                                            <option>Pothole</option>
                                            <option>Garbage Overflow</option>
                                            <option>Broken Streetlight</option>
                                            <option>Water Logging</option>
                                            <option>Other</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700" data-translate="reportPhoto">Upload Photo</label>
                                        <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md">
                                            <div class="space-y-1 text-center">
                                                <i data-lucide="image" class="mx-auto h-12 w-12 text-gray-400"></i>
                                                <div class="flex text-sm text-gray-600">
                                                    <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-teal-600 hover:text-teal-500 focus-within:outline-none">
                                                        <span data-translate="reportUpload">Upload a file</span>
                                                        <input id="file-upload" name="file-upload" type="file" class="sr-only">
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label for="issue-description" class="block text-sm font-medium text-gray-700" data-translate="reportDescription">Description</label>
                                    <textarea id="issue-description" name="issue-description" rows="3" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Provide a brief description of the issue..."></textarea>
                                </div>
                                <div class="flex items-end">
                                    <button type="button" id="record-voice-btn" class="btn btn-primary w-full flex justify-center items-center py-3 text-lg">
                                        <i data-lucide="mic" class="mr-2 h-5 w-5"></i>
                                        <span data-translate="reportByVoice">Record by Voice</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                         <div id="voice-recording-ui" class="hidden text-center py-8">
                            <button id="stop-recording-btn" class="h-24 w-24 mx-auto bg-teal-600 rounded-full flex items-center justify-center text-white mic-pulse">
                                <i data-lucide="mic" class="h-12 w-12"></i>
                            </button>
                            <p class="mt-4 text-lg font-semibold text-gray-700" data-translate="listening">Listening...</p>
                        </div>
                        
                        <div id="form-step-2" class="hidden">
                           <p class="text-center text-gray-500 mb-4" data-translate="reportLocationConfirm">Please confirm the location of the issue.</p>
                           <div>
                                <label for="address" class="block text-sm font-medium text-gray-700" data-translate="reportAddress">Address / Landmark</label>
                                <input type="text" name="address" id="address" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="e.g., Near City Park, Main Street">
                           </div>
                           <button type="button" class="btn btn-ghost mt-4 w-full flex items-center justify-center text-sm">
                               <i data-lucide="crosshair" class="h-5 w-5 mr-2"></i>
                               <span data-translate="reportCurrentLocation">Use my current location</span>
                           </button>
                        </div>

                        <div id="form-step-3" class="hidden">
                                <p class="text-center text-gray-500 mb-4" data-translate="reportContactInfo">Provide your contact information (optional) to receive updates.</p>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label for="reporter-name" class="block text-sm font-medium text-gray-700" data-translate="formName">Your Name</label>
                                    <input type="text" name="reporter-name" id="reporter-name" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                                </div>
                                <div>
                                    <label for="reporter-contact" class="block text-sm font-medium text-gray-700" data-translate="modalCitizenInputLabel">Phone or Email</label>
                                    <input type="text" name="reporter-contact" id="reporter-contact" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                                </div>
                            </div>
                        </div>
                    </form>
                    
                    <div class="mt-8 flex justify-between">
                        <button id="prev-step-btn" type="button" class="btn btn-secondary invisible">
                            Previous
                        </button>
                        <button id="next-step-btn" type="button" class="btn btn-primary">
                            Next Step
                        </button>
                        <button id="submit-report-btn" type="submit" form="report-form" class="hidden btn btn-primary text-lg py-3 px-8">
                            Submit Report
                        </button>
                    </div>
                </div>
                
                <div id="report-success-message" class="hidden text-center py-10">
                    <div class="flex items-center justify-center h-20 w-20 bg-green-100 text-green-600 rounded-full mx-auto mb-6">
                        <i data-lucide="check-circle-2" class="h-12 w-12"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800" data-translate="reportSuccessTitle">Report Submitted!</h3>
                    <p class="mt-3 text-text-light" data-translate="reportSuccessSub">Thank you for helping improve your community. Your report has been sent to the relevant department.</p>
                    <p class="mt-4 font-semibold text-gray-800" data-translate="reportSuccessID">Your Tracking ID is:</p>
                    <p class="mt-1 text-lg font-bold text-teal-600 bg-teal-50 rounded-md py-2 px-4 inline-block">CIVIC-XYZ-123</p>
                    <button id="close-success-btn" class="btn btn-dark mt-8 py-3 px-6">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="redeem-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-2xl p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-redeem-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                <div>
                    <h3 class="text-2xl font-bold text-center text-gray-800" data-translate="redeemModalTitle">Choose Your Reward</h3>
                    <p class="text-center text-gray-500 mt-2" data-translate="redeemModalSubtitle">Select one of the options below to redeem your points.</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div class="feature-card text-center">
                            <div class="flex items-center justify-center h-20 w-20 bg-green-100 text-green-600 rounded-full mx-auto mb-6">
                                <i data-lucide="banknote" class="h-10 w-10"></i>
                            </div>
                            <h4 class="text-2xl font-bold text-text-dark" data-translate="redeemCashTitle">₹100 Cash Reward</h4>
                            <p class="text-lg font-semibold text-amber-600 my-2">1000 Points</p>
                            <button class="btn btn-primary mt-4" data-translate="redeemButton">Redeem</button>
                        </div>
                        <div class="feature-card text-center">
                            <div class="flex items-center justify-center h-20 w-20 bg-blue-100 text-blue-600 rounded-full mx-auto mb-6">
                                <i data-lucide="shopping-cart" class="h-10 w-10"></i>
                            </div>
                            <h4 class="text-xl font-bold text-text-dark" data-translate="redeemVoucherTitle">Shopping Voucher</h4>
                            <p class="text-lg font-semibold text-amber-600 my-2">500 Points</p>
                            <button class="btn btn-primary mt-4" data-translate="redeemButton">Redeem</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="track-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-lg p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-track-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                
                <div id="track-input-view">
                    <h3 class="text-2xl font-bold text-center text-gray-800" data-translate="trackModalTitle">Track Your Report</h3>
                    <p class="text-center text-gray-500 mt-2" data-translate="trackModalSubtitle">Enter the tracking ID you received after submission.</p>
                    <form id="track-id-form" class="mt-8 space-y-4">
                        <div>
                            <label for="tracking-id" class="block text-sm font-medium text-gray-700" data-translate="trackModalInputLabel">Tracking ID</label>
                            <input type="text" name="tracking-id" id="tracking-id" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="e.g., CIVIC-XYZ-123">
                        </div>
                        <button type="submit" class="btn btn-primary w-full flex justify-center py-3 text-lg" data-translate="trackModalButton">
                            Track Status
                        </button>
                    </form>
                </div>

                <div id="track-status-view" class="hidden">
                     <h3 class="text-2xl font-bold text-center text-gray-800" data-translate="trackStatusTitle">Report Status</h3>
                     <p class="text-center text-gray-500 mt-2">Tracking ID: <span id="display-tracking-id" class="font-semibold text-teal-600"></span></p>
                     <div class="mt-8">
                        <div id="tracking-step-1" class="tracking-step">
                            <div class="step-circle w-10 h-10 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center font-bold">
                                <i data-lucide="file-plus-2" class="h-5 w-5"></i>
                            </div>
                            <div>
                                <h4 class="step-label font-semibold text-gray-500" data-translate="trackStep1">Reported</h4>
                                <p class="text-sm text-gray-400 mt-1" data-translate="trackStep1Desc">Your report has been successfully submitted.</p>
                            </div>
                        </div>
                        
                        <div class="h-8"></div> <div id="tracking-step-2" class="tracking-step">
                            <div class="step-circle w-10 h-10 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center font-bold">
                                 <i data-lucide="clipboard-check" class="h-5 w-5"></i>
                            </div>
                            <div>
                                <h4 class="step-label font-semibold text-gray-500" data-translate="trackStep2">Acknowledged</h4>
                                <p class="text-sm text-gray-400 mt-1" data-translate="trackStep2Desc">The relevant department has received your report.</p>
                            </div>
                        </div>
                        
                        <div class="h-8"></div> <div id="tracking-step-3" class="tracking-step">
                            <div class="step-circle w-10 h-10 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center font-bold">
                                 <i data-lucide="wrench" class="h-5 w-5"></i>
                            </div>
                            <div>
                                <h4 class="step-label font-semibold text-gray-500" data-translate="trackStep3">In Progress</h4>
                                <p class="text-sm text-gray-400 mt-1" data-translate="trackStep3Desc">Work has begun to resolve the issue.</p>
                            </div>
                        </div>
                        
                        <div class="h-8"></div> <div id="tracking-step-4" class="tracking-step">
                            <div class="step-circle w-10 h-10 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center font-bold">
                               <i data-lucide="check-circle-2" class="h-5 w-5"></i>
                            </div>
                            <div>
                                <h4 class="step-label font-semibold text-gray-500" data-translate="trackStep4">Resolved</h4>
                                <p class="text-sm text-gray-400 mt-1" data-translate="trackStep4Desc">The issue has been fixed. Thank you!</p>
                            </div>
                        </div>
                       </div>
                     <button id="track-another-btn" class="btn btn-ghost w-full mt-8" data-translate="trackAnotherButton">Track Another Report</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="assignment-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-lg p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-assignment-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                <div id="assignment-form-view">
                    <h3 id="assignment-modal-title" class="text-2xl font-bold text-center text-gray-800" data-translate="assignModalTitle">Assign Report</h3>
                    <form id="assignment-form" class="mt-8 space-y-4">
                        <div>
                            <label for="assign-department" class="block text-sm font-medium text-gray-700" data-translate="assignDeptLabel">Department</label>
                            <select id="assign-department" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                                <option>Sanitation Department</option>
                                <option>Public Works Department</option>
                                <option>Electrical Department</option>
                                <option>Water Supply Board</option>
                            </select>
                        </div>
                        <div>
                            <label for="assign-agent" class="block text-sm font-medium text-gray-700" data-translate="assignAgentLabel">Field Agent</label>
                            <select id="assign-agent" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500">
                                <option>Agent 1 - Ramesh Kumar</option>
                                <option>Agent 2 - Sunita Sharma</option>
                                <option>Agent 3 - Anil Singh</option>
                            </select>
                        </div>
                        <div>
                            <label for="assign-notes" class="block text-sm font-medium text-gray-700" data-translate="assignNotesLabel">Notes (Optional)</label>
                            <textarea id="assign-notes" rows="3" class="mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:ring-teal-500 focus:border-teal-500" placeholder="Add specific instructions..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-full flex justify-center py-3 text-lg" data-translate="confirmAssignmentButton">
                            Confirm Assignment
                        </button>
                    </form>
                </div>
                <div id="assignment-success-view" class="hidden text-center py-10">
                    <div class="flex items-center justify-center h-20 w-20 bg-green-100 text-green-600 rounded-full mx-auto mb-6">
                        <i data-lucide="check-circle-2" class="h-12 w-12"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800" data-translate="assignSuccessTitle">Task Assigned!</h3>
                    <p class="mt-3 text-text-light" data-translate="assignSuccessSub">The relevant department and agent have been notified.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- NEW: Disaster Modal -->
    <div id="disaster-modal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay fixed inset-0 bg-black bg-opacity-50"></div>
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="modal-content bg-white w-full max-w-4xl p-8 rounded-2xl shadow-2xl relative transform opacity-0 translate-y-8">
                <button id="close-disaster-modal-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                    <i data-lucide="x" class="h-6 w-6"></i>
                </button>
                <div>
                    <h3 id="disaster-modal-title" class="text-2xl font-bold text-center text-gray-800">Disaster Alert</h3>
                    <p id="disaster-modal-description" class="text-center text-gray-500 mt-2">Details about the current situation.</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8">
                        <div>
                            <h4 class="font-semibold text-lg mb-4">Live Alerts & Advisories</h4>
                            <div id="disaster-modal-alerts" class="space-y-3 max-h-80 overflow-y-auto pr-2">
                                <!-- Alert items will be injected here -->
                            </div>
                        </div>
                        <div>
                             <h4 class="font-semibold text-lg mb-4">Affected Areas Map</h4>
                             <div id="disaster-map" class="w-full h-80 rounded-lg bg-gray-200"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        lucide.createIcons();
        
        // Translations object
        const translations = {
            en: {
                appName: "CivicVoice",
                navFeatures: "Features",
                navOffline: "Offline Reporting",
                navSchemes: "Schemes",
                navDisasterAlerts: "Disaster Alerts",
                navProcess: "Process",
                navReports: "Reports",
                navDashboard: "Dashboard",
                navRewards: "Rewards",
                navChampions: "Champions",
                navImpact: "Impact",
                navVoices: "Voices",
                navFaq: "FAQ",
                citizenLogin: "Login / Sign Up",
                officialLogin: "Official Login",
                navFeaturesMobile: "Features",
                navOfflineMobile: "Offline Reporting",
                navSchemesMobile: "Schemes",
                navDisasterAlertsMobile: "Disaster Alerts",
                navProcessMobile: "Process",
                navReportsMobile: "Reports",
                navDashboardMobile: "Dashboard",
                navRewardsMobile: "Rewards",
                navChampionsMobile: "Champions",
                navImpactMobile: "Impact",
                navVoicesMobile: "Voices",
                navFaqMobile: "FAQ",
                citizenLoginMobile: "Login / Sign Up",
                officialLoginMobile: "Official Login",
                heroTitle: "Your Voice, <br><span class=\"bg-clip-text text-transparent bg-gradient-to-r from-teal-500 to-cyan-600\">Our City's Future.</span>",
                heroSubtitle: "Report civic issues, track their resolution, and collaborate with your community to build a better neighborhood. It's civic engagement, simplified.",
                locationLabel: "Select your location to get started",
                selectState: "Select State",
                selectCity: "Select Area/City",
                makeReport: "Make a Report",
                featuresTag: "WHY CIVICVOICE?",
                featuresTitle: "A Platform Built for Change",
                feature1Title: "Accessible Reporting",
                feature1Desc: "Snap a photo or simply use your voice in any regional language to submit a report effortlessly.",
                feature2Title: "Transparent Tracking",
                feature2Desc: "Get real-time updates and notifications as your report moves from acknowledged to resolved.",
                feature3Title: "Community Prioritization",
                feature3Desc: "Upvote existing issues to highlight their priority. Let the authorities know what matters most.",
                feature4Title: "Hyperlocal Focus",
                feature4Desc: "Select your specific state and city to view and report issues that are relevant to your community.",
                feature5Title: "Earn Community Rewards",
                feature5Desc: "Get points for valid reports and verifications. Redeem them for cash rewards and climb the community leaderboard.",
                feature6Title: "Secure User Portals",
                feature6Desc: "Separate, secure login portals for citizens and government officials ensure data privacy and integrity.",
                feature7Title: "Fake Report Detection",
                feature7Desc: "Our AI-powered system analyzes report patterns to flag potential spam, ensuring that officials focus on genuine issues.",
                feature8Title: "Data-Driven Insights",
                feature8Desc: "Officials get access to analytics dashboards to identify issue hotspots and improve resource allocation.",
                offlineTag: "FOR RURAL & LOW-CONNECTIVITY AREAS",
                offlineTitle: "No Internet? No Problem.",
                offlineSubtitle: "We ensure every citizen has a voice. Use these simple methods to report issues without needing an internet connection.",
                offline1Title: "Missed Call Seva",
                offline1Desc: "Give a missed call to our dedicated number. You will receive an automated callback to record your issue via an interactive voice response (IVR) system.",
                offline2Title: "SMS Reporting",
                offline2Desc: "Send an SMS with the issue type and your location details (pincode, landmark). You will get a confirmation SMS with a tracking ID.",
                offline3Title: "Jan Seva Kendra",
                offline3Desc: "Visit your nearest Community Service Center (Jan Seva Kendra). The operator will help you file a digital complaint using the CivicVoice portal.",
                schemesTag: "GOVERNMENT INITIATIVES",
                schemesTitle: "Stay Updated on Schemes",
                schemesSubtitle: "Find information about beneficial government schemes and programs available to you.",
                scheme1Title: "PM Awas Yojana",
                scheme1Desc: "Affordable housing for all. Learn about eligibility and how to apply for the scheme.",
                scheme2Title: "Pension Schemes",
                scheme2Desc: "Explore various pension schemes for senior citizens, widows, and differently-abled individuals.",
                scheme3Title: "Scholarship Programs",
                scheme3Desc: "Information on state and central scholarship programs for students across various levels.",
                learnMoreBtn: "Learn More",
                disasterTag: "STAY PREPARED",
                disasterTitle: "Disaster Preparedness & Alerts",
                disasterSubtitle: "Get timely alerts, report critical situations, and access resources during emergencies. Your safety is our priority.",
                disaster1Title: "Flooding & Water Logging",
                disaster1Desc: "Check for real-time flood warnings, report severe water logging, and find routes to safety shelters near you.",
                disaster2Title: "Fire Incidents",
                disaster2Desc: "Report a fire, view active incident zones on the map, and receive evacuation instructions from authorities.",
                disaster3Title: "Earthquake & Tremors",
                disaster3Desc: "Get immediate alerts on seismic activity. Report structural damages and find designated safe zones post-tremor.",
                viewAlerts: "View Alerts",
                processTag: "3 EASY STEPS",
                processTitle: "See It. Report It. Get It Fixed.",
                processSubtitle: "We've designed a simple, transparent process to connect you directly with the departments that can make a difference.",
                step1Title: "1. Report in Seconds",
                step1Desc: "Our intuitive form guides you to provide all necessary details quickly.",
                step2Title: "2. Direct to the Right Team",
                step2Desc: "We intelligently route your issue to the correct municipal department, saving time.",
                step3Title: "3. Close the Loop",
                step3Desc: "Get a final notification and photo proof when the issue is resolved.",
                reportsTag: "LIVE FEED",
                reportsTitle: "Live Community Reports",
                reportsSubtitle: "See what's happening in your community in real-time. Your engagement helps prioritize action.",
                ongoingIssuesTab: "Ongoing Issues",
                solvedIssuesTab: "Recently Solved",
                categoryRoads: "Roads",
                ongoingReport1Title: "Large Pothole on Main St.",
                categoryWaste: "Waste",
                ongoingReport2Title: "Garbage Overflow near Park",
                categoryProperty: "Property",
                ongoingReport4Title: "Damaged fence at garden",
                categoryInfrastructure: "Infrastructure",
                solvedReport1Title: "Broken Streetlight Fixed",
                categoryParks: "Parks",
                solvedReport2Title: "Park pathway cleaned",
                statusResolved: "Resolved 4 days ago",
                statusResolved2: "Resolved 1 week ago",
                rewardsTag: "BECOME A CHAMPION",
                rewardsTitle: "Earn Rewards for Your Contribution",
                rewardsSubtitle: "We believe active citizenship should be recognized. Our rewards system encourages you to make a tangible impact on your community.",
                reward1Title: "Report & Earn Points",
                reward1Desc: "Receive points for every valid issue you report that gets acknowledged by the authorities.",
                reward2Title: "Verify Resolutions",
                reward2Desc: "Help us confirm when an issue is properly resolved and earn bonus points for your verification.",
                reward3Title: "Redeem for Cash Rewards",
                reward3Desc: "Accumulate points and redeem them for exciting cash rewards, vouchers, and other perks.",
                championsTag: "GAMIFICATION",
                championsTitle: "Become a Community Champion",
                championsSubtitle: "Earn badges for your contributions and climb the leaderboard to become a recognized voice in your community.",
                badgesTitle: "Achievement Badges",
                badge1Title: "Pothole Pioneer",
                badge1Desc: "Report 10 road-related issues.",
                badge2Title: "Community Verifier",
                badge2Desc: "Confirm 5 resolved tasks.",
                badge3Title: "Civic Starter",
                badge3Desc: "Submit your first valid report.",
                badge4Title: "Neighborhood Hero",
                badge4Desc: "Reach 1000 community points.",
                leaderboardTitle: "Community Leaderboard",
                redeemTitle: "Redeem Your Points",
                redeemSubtitle: "Turn your community efforts into tangible rewards. Here’s what you can get with your points.",
                yourBalance: "Your Balance",
                points: "Points",
                redeemCashTitle: "₹100 Cash Reward",
                redeemVoucherTitle: "Shopping Voucher",
                redeemButton: "Redeem",
                redeemMainButton: "Redeem Your Points",
                redeemModalTitle: "Choose Your Reward",
                redeemModalSubtitle: "Select one of the options below to redeem your points.",
                impactTitle: "Our Community's Scoreboard",
                impactSubtitle: "Small actions, when multiplied by thousands of people, can transform a city.",
                impact1: "Issues Resolved",
                impact2: "Active Citizens",
                impact3: "Average Rating",
                liveMapTag: "FOR OFFICIALS",
                liveMapTitle: "Live Issue Dashboard & Analytics",
                liveMapSubtitle: "Visualize issue hotspots with a real-time map. Toggle between pins and a heatmap view for powerful, data-driven insights.",
                togglePins: "Show Pins",
                toggleHeatmap: "Show Heatmap",
                filterCategory: "Category",
                filterStatus: "Status",
                statTotal: "Total Reports",
                statResolved: "Resolved",
                statInProgress: "In Progress",
                statReported: "Newly Reported",
                dashboardTag: "FOR DEPARTMENT HEADS",
                dashboardTitle: "Field Agent Management",
                dashboardSubtitle: "Track your team's performance, manage assignments, and optimize workflow in real-time.",
                testimonialsTag: "REAL STORIES, REAL IMPACT",
                testimonialsTitle: "What Our Users Are Saying",
                testimonial1: "\"The overflowing garbage bin near my society was a constant problem. Reported it via CivicVoice, and the municipal team cleared it the very next day. This platform actually works!\"",
                testimonial1Location: "Mayur Vihar Resident, Delhi",
                testimonial2: "\"As a municipal officer, CivicVoice streamlines our workflow. The geotagged, photographic evidence is invaluable. It helps us prioritize and resolve citizen grievances faster than ever.\"",
                testimonial2Role: "Municipal Corporation Official",
                testimonial3: "\"It's empowering to see my report getting upvoted by neighbours. We managed to get a new streetlight installed in our lane by showing collective demand through the app.\"",
                testimonial3Location: "Dwarka Community Member",
                faqTag: "HAVE QUESTIONS?",
                faqTitle: "Frequently Asked Questions",
                faq1Question: "What kind of issues can I report?",
                faq1Answer: "You can report a wide range of non-emergency issues such as potholes, broken streetlights, garbage overflow, water logging, damaged public property, and more. If you're unsure, it's always best to report it.",
                faq2Question: "Is my data private?",
                faq2Answer: "Yes, absolutely. While the location and description of the issue are public, your personal information (name, contact details) is kept confidential and is only shared with the relevant municipal authorities for communication regarding your report.",
                faq3Question: "Is the service available in my city?",
                faq3Answer: "We are actively expanding our network of partner municipalities. Currently, we are operational in Delhi, Mumbai, and Bangalore. Sign up to be notified when we launch in your city!",
                ctaTitle: "Ready to Make a Difference?",
                ctaSubtitle: "Join thousands of citizens improving our city, one report at a time. It's free, easy, and effective.",
                ctaButton: "Sign Up & Start Reporting",
                footerAppName: "CivicVoice",
                footerSlogan: "Your Voice, Amplified.",
                footerPlatform: "Platform",
                footerFeatures: "Features",
                footerGov: "For Governments",
                footerSuccess: "Success Stories",
                footerCompany: "Company",
                footerAbout: "About Us",
                footerCareers: "Careers",
                footerContact: "Contact",
                footerLegal: "Legal",
                footerPrivacy: "Privacy Policy",
                footerTerms: "Terms of Service",
                footerConnect: "Connect",
                footerCredit: "&copy; 2025 CivicVoice. Made with ❤ in India.",
                modalCitizenTab: "Citizen",
                modalOfficialTab: "Official Login",
                modalCitizenTitle: "Welcome!",
                modalCitizenSubtitle: "Enter your details to login or sign up.",
                modalCitizenInputLabel: "Phone Number or Gmail",
                modalCitizenButton: "Send OTP",
                modalOfficialTitle: "Official Portal",
                modalOfficialSubtitle: "Login with your employee credentials.",
                modalOfficialInput1: "Employee ID",
                modalOfficialInput2: "Password",
                modalOfficialButton: "Login",
                modalForgotPassword: "Forgot password?",
                modalOtpTitle: "Enter OTP",
                modalOtpSubtitle: "An OTP has been sent to your device.",
                modalOtpButton: "Verify & Login",
                reportModalTitle: "Report a Civic Issue",
                reportStep1: "Details",
                reportStep2: "Location",
                reportStep3: "Submit",
                reportCategory: "Issue Category",
                reportPhoto: "Upload Photo",
                reportUpload: "Upload a file",
                reportDescription: "Description",
                reportLocationConfirm: "Please confirm the location of the issue.",
                reportAddress: "Address / Landmark",
                reportCurrentLocation: "Use my current location",
                reportContactInfo: "Provide your contact information (optional) to receive updates.",
                formName: "Your Name",
                reportSuccessTitle: "Report Submitted!",
                reportSuccessSub: "Thank you for helping improve your community. Your report has been sent to the relevant department.",
                reportSuccessID: "Your Tracking ID is:",
                reportByVoice: "Record by Voice",
                listening: "Listening...",
                trackReportNav: "Track Report",
                trackReportNavMobile: "Track Report",
                trackModalTitle: "Track Your Report",
                trackModalSubtitle: "Enter the tracking ID you received after submission.",
                trackModalInputLabel: "Tracking ID",
                trackModalButton: "Track Status",
                trackStatusTitle: "Report Status",
                trackStep1: "Reported",
                trackStep1Desc: "Your report has been successfully submitted.",
                trackStep2: "Acknowledged",
                trackStep2Desc: "The relevant department has received your report.",
                trackStep3: "In Progress",
                trackStep3Desc: "Work has begun to resolve the issue.",
                trackStep4: "Resolved",
                trackStep4Desc: "The issue has been fixed. Thank you!",
                trackAnotherButton: "Track Another Report",
                assignTaskButton: "Assign Task",
                assignModalTitle: "Assign Report",
                assignDeptLabel: "Department",
                assignAgentLabel: "Field Agent",
                assignNotesLabel: "Notes (Optional)",
                confirmAssignmentButton: "Confirm Assignment",
                assignSuccessTitle: "Task Assigned!",
                assignSuccessSub: "The relevant department and agent have been notified."
            },
            hi: {
                appName: "सिविकवॉइस",
                navFeatures: "विशेषताएँ",
                navOffline: "ऑफलाइन रिपोर्टिंग",
                navSchemes: "योजनाएं",
                navProcess: "प्रक्रिया",
                navReports: "रिपोर्ट",
                navDashboard: "डैशबोर्ड",
                navRewards: "पुरस्कार",
                navChampions: "चैंपियंस",
                navImpact: "प्रभाव",
                navVoices: "आवाज़ें",
                navFaq: "FAQ",
                citizenLogin: "लॉगिन / साइन अप",
                officialLogin: "आधिकारिक लॉगिन",
                navFeaturesMobile: "विशेषताएँ",
                navOfflineMobile: "ऑफलाइन रिपोर्टिंग",
                navSchemesMobile: "योजनाएं",
                navProcessMobile: "प्रक्रिया",
                navReportsMobile: "रिपोर्ट",
                navDashboardMobile: "डैशबोर्ड",
                navRewardsMobile: "पुरस्कार",
                navChampionsMobile: "चैंपियंस",
                navImpactMobile: "प्रभाव",
                navVoicesMobile: "आवाज़ें",
                navFaqMobile: "FAQ",
                citizenLoginMobile: "लॉगिन / साइन अप",
                officialLoginMobile: "आधिकारिक लॉगिन",
                heroTitle: "आपकी आवाज़, <br><span class=\"bg-clip-text text-transparent bg-gradient-to-r from-teal-500 to-cyan-600\">हमारे शहर का भविष्य।</span>",
                heroSubtitle: "नागरिक मुद्दों की रिपोर्ट करें, उनके समाधान को ट्रैक करें, और एक बेहतर पड़ोस बनाने के लिए अपने समुदाय के साथ सहयोग करें। यह नागरिक जुड़ाव है, सरलीकृत।",
                locationLabel: "शुरू करने के लिए अपना स्थान चुनें",
                selectState: "राज्य चुनें",
                selectCity: "क्षेत्र/शहर चुनें",
                makeReport: "रिपोर्ट करें",
                featuresTag: "सिविकवॉइस क्यों?",
                featuresTitle: "बदलाव के लिए बनाया गया एक मंच",
                feature1Title: "सुलभ रिपोर्टिंग",
                feature1Desc: "एक तस्वीर खींचें या बस अपनी क्षेत्रीय भाषा में अपनी आवाज़ का उपयोग करके आसानी से रिपोर्ट दर्ज करें।",
                feature2Title: "पारदर्शी ट्रैकिंग",
                feature2Desc: "आपकी रिपोर्ट स्वीकृत होने से लेकर हल होने तक वास्तविक समय के अपडेट और सूचनाएं प्राप्त करें।",
                feature3Title: "सामुदायिक प्राथमिकता",
                feature3Desc: "मौजूदा मुद्दों को उनकी प्राथमिकता को उजागर करने के लिए अपवोट करें। अधिकारियों को बताएं कि सबसे ज्यादा क्या मायने रखता है।",
                feature4Title: "हाइपरलोकल फोकस",
                feature4Desc: "अपने समुदाय से संबंधित मुद्दों को देखने और रिपोर्ट करने के लिए अपना विशिष्ट राज्य और शहर चुनें।",
                feature5Title: "सामुदायिक पुरस्कार अर्जित करें",
                feature5Desc: "मान्य रिपोर्ट और सत्यापन के लिए अंक प्राप्त करें। उन्हें नकद पुरस्कार के लिए भुनाएं और सामुदायिक लीडरबोर्ड पर चढ़ें।",
                feature6Title: "सुरक्षित उपयोगकर्ता पोर्टल",
                feature6Desc: "नागरिकों और सरकारी अधिकारियों के लिए अलग, सुरक्षित लॉगिन पोर्टल डेटा गोपनीयता और अखंडता सुनिश्चित करते हैं।",
                feature7Title: "नकली रिपोर्ट की पहचान",
                feature7Desc: "हमारी AI-संचालित प्रणाली संभावित स्पैम को चिह्नित करने के लिए रिपोर्ट पैटर्न का विश्लेषण करती है, यह सुनिश्चित करते हुए कि अधिकारी वास्तविक मुद्दों पर ध्यान केंद्रित करें।",
                offlineTag: "ग्रामीण और कम कनेक्टिविटी वाले क्षेत्रों के लिए",
                offlineTitle: "इंटरनेट नहीं? कोई बात नहीं।",
                offlineSubtitle: "हम सुनिश्चित करते हैं कि हर नागरिक की आवाज़ हो। इंटरनेट कनेक्शन की आवश्यकता के बिना समस्याओं की रिपोर्ट करने के लिए इन सरल तरीकों का उपयोग करें।",
                offline1Title: "मिस्ड कॉल सेवा",
                offline1Desc: "हमारे समर्पित नंबर पर एक मिस्ड कॉल दें। आपको एक इंटरैक्टिव वॉयस रिस्पांस (आईवीआर) प्रणाली के माध्यम से अपनी समस्या को रिकॉर्ड करने के लिए एक स्वचालित कॉलबैक प्राप्त होगा।",
                offline2Title: "एसएमएस रिपोर्टिंग",
                offline2Desc: "समस्या के प्रकार और अपने स्थान के विवरण (पिनकोड, लैंडमार्क) के साथ एक एसएमएस भेजें। आपको एक ट्रैकिंग आईडी के साथ एक पुष्टिकरण एसएमएस मिलेगा।",
                offline3Title: "जन सेवा केंद्र",
                offline3Desc: "अपने निकटतम सामुदायिक सेवा केंद्र (जन सेवा केंद्र) पर जाएं। ऑपरेटर आपको सिविकवॉइस पोर्टल का उपयोग करके डिजिटल शिकायत दर्ज करने में मदद करेगा।",
                schemesTag: "सरकारी पहल",
                schemesTitle: "योजनाओं पर अपडेट रहें",
                schemesSubtitle: "अपने लिए उपलब्ध लाभकारी सरकारी योजनाओं और कार्यक्रमों के बारे में जानकारी प्राप्त करें।",
                scheme1Title: "पीएम आवास योजना",
                scheme1Desc: "सभी के लिए किफायती आवास। पात्रता और योजना के लिए आवेदन करने के तरीके के बारे में जानें।",
                scheme2Title: "पेंशन योजनाएं",
                scheme2Desc: "वरिष्ठ नागरिकों, विधवाओं और विकलांग व्यक्तियों के लिए विभिन्न पेंशन योजनाओं का अन्वेषण करें।",
                scheme3Title: "छात्रवृत्ति कार्यक्रम",
                scheme3Desc: "विभिन्न स्तरों पर छात्रों के लिए राज्य और केंद्रीय छात्रवृत्ति कार्यक्रमों की जानकारी।",
                learnMoreBtn: "और जानें",
                processTag: "३ आसान चरण",
                processTitle: "देखें। रिपोर्ट करें। इसे ठीक करवाएं।",
                processSubtitle: "हमने आपको सीधे उन विभागों से जोड़ने के लिए एक सरल, पारदर्शी प्रक्रिया तैयार की है जो एक अंतर ला सकते हैं।",
                step1Title: "१. सेकंड में रिपोर्ट करें",
                step1Desc: "हमारा सहज ज्ञान युक्त फॉर्म आपको सभी आवश्यक विवरण जल्दी से प्रदान करने के लिए मार्गदर्शन करता है।",
                step2Title: "२. सही टीम को सीधे भेजें",
                step2Desc: "हम बुद्धिमानी से आपके मुद्दे को सही नगरपालिका विभाग में भेजते हैं, जिससे समय की बचत होती है।",
                step3Title: "३. लूप को बंद करें",
                step3Desc: "समस्या हल होने पर अंतिम सूचना और फोटो प्रमाण प्राप्त करें।",
                reportsTag: "लाइव फीड",
                reportsTitle: "लाइव सामुदायिक रिपोर्ट",
                reportsSubtitle: "देखें कि आपके समुदाय में वास्तविक समय में क्या हो रहा है। आपकी सहभागिता कार्रवाई को प्राथमिकता देने में मदद करती है।",
                ongoingIssuesTab: "चल रहे मुद्दे",
                solvedIssuesTab: "हाल ही में हल",
                categoryRoads: "सड़कें",
                ongoingReport1Title: "मुख्य सड़क पर बड़ा गड्ढा।",
                categoryWaste: "कचरा",
                ongoingReport2Title: "पार्क के पास कचरा ओवरफ्लो",
                categoryProperty: "संपत्ति",
                ongoingReport4Title: "बगीचे में टूटी बाड़",
                categoryInfrastructure: "आधारभूत संरचना",
                solvedReport1Title: "टूटी स्ट्रीटलाइट ठीक हुई",
                categoryParks: "पार्क",
                solvedReport2Title: "पार्क का रास्ता साफ किया गया",
                statusResolved: "4 दिन पहले हल किया गया",
                statusResolved2: "1 सप्ताह पहले हल किया गया",
                rewardsTag: "एक चैंपियन बनें",
                rewardsTitle: "अपने योगदान के लिए पुरस्कार अर्जित करें",
                rewardsSubtitle: "हमारा मानना ​​है कि सक्रिय नागरिकता को मान्यता मिलनी चाहिए। हमारी पुरस्कार प्रणाली आपको अपने समुदाय पर एक ठोस प्रभाव डालने के लिए प्रोत्साहित करती है।",
                reward1Title: "रिपोर्ट करें और अंक अर्जित करें",
                reward1Desc: "आपके द्वारा रिपोर्ट किए गए प्रत्येक मान्य मुद्दे के लिए अंक प्राप्त करें जिसे अधिकारी स्वीकार करते हैं।",
                reward2Title: "संकल्पों को सत्यापित करें",
                reward2Desc: "जब कोई समस्या ठीक से हल हो जाए तो हमें पुष्टि करने में मदद करें और अपने सत्यापन के लिए बोनस अंक अर्जित करें।",
                reward3Title: "नकद पुरस्कार के लिए भुनाएं",
                reward3Desc: "अंक जमा करें और उन्हें रोमांचक नकद पुरस्कार, वाउचर और अन्य भत्तों के लिए भुनाएं।",
                championsTag: "गेमिफिकेशन",
                championsTitle: "सामुदायिक चैंपियन बनें",
                championsSubtitle: "अपने योगदान के लिए बैज अर्जित करें और अपने समुदाय में एक मान्यता प्राप्त आवाज बनने के लिए लीडरबोर्ड पर चढ़ें।",
                badgesTitle: "उपलब्धि बैज",
                badge1Title: "गड्ढा पायनियर",
                badge1Desc: "10 सड़क संबंधी मुद्दों की रिपोर्ट करें।",
                badge2Title: "सामुदायिक सत्यापनकर्ता",
                badge2Desc: "5 हल किए गए कार्यों की पुष्टि करें।",
                badge3Title: "सिविक स्टार्टर",
                badge3Desc: "अपनी पहली वैध रिपोर्ट सबमिट करें।",
                badge4Title: "पड़ोस का हीरो",
                badge4Desc: "1000 सामुदायिक अंक तक पहुंचें।",
                leaderboardTitle: "सामुदायिक लीडरबोर्ड",
                redeemTitle: "अपने अंक भुनाएं",
                redeemSubtitle: "अपने सामुदायिक प्रयासों को वास्तविक पुरस्कारों में बदलें। यहाँ आप अपने अंकों के साथ क्या प्राप्त कर सकते हैं।",
                yourBalance: "आपका बैलेंस",
                points: "अंक",
                redeemCashTitle: "₹100 नकद इनाम",
                redeemVoucherTitle: "शॉपिंग वाउचर",
                redeemButton: "भुनाएं",
                redeemMainButton: "अपने अंक भुनाएं",
                redeemModalTitle: "अपना इनाम चुनें",
                redeemModalSubtitle: "अपने अंक भुनाने के लिए नीचे दिए गए विकल्पों में से एक का चयन करें।",
                impactTitle: "हमारे समुदाय का स्कोरबोर्ड",
                impactSubtitle: "छोटे कार्य, जब हजारों लोगों द्वारा गुणा किए जाते हैं, तो एक शहर को बदल सकते हैं।",
                impact1: "मुद्दे हल हुए",
                impact2: "सक्रिय नागरिक",
                impact3: "औसत रेटिंग",
                liveMapTag: "अधिकारियों के लिए",
                liveMapTitle: "लाइव इश्यू डैशबोर्ड और एनालिटिक्स",
                liveMapSubtitle: "वास्तविक समय के नक्शे के साथ समस्या हॉटस्पॉट की कल्पना करें। शक्तिशाली, डेटा-संचालित अंतर्दृष्टि के लिए पिन और हीटमैप दृश्य के बीच टॉगल करें।",
                togglePins: "पिन दिखाएं",
                toggleHeatmap: "हीटमैप दिखाएं",
                filterCategory: "श्रेणी",
                filterStatus: "स्थिति",
                statTotal: "कुल रिपोर्ट",
                statResolved: "हल",
                statInProgress: "प्रगति में",
                statReported: "नई रिपोर्ट",
                dashboardTag: "विभाग प्रमुखों के लिए",
                dashboardTitle: "फील्ड एजेंट प्रबंधन",
                dashboardSubtitle: "अपनी टीम के प्रदर्शन को ट्रैक करें, असाइनमेंट प्रबंधित करें और वास्तविक समय में वर्कफ़्लो को अनुकूलित करें।",
                testimonialsTag: "असली कहानियाँ, असली प्रभाव",
                testimonialsTitle: "हमारे उपयोगकर्ता क्या कह रहे हैं",
                testimonial1: "\"मेरे समाज के पास ओवरफ्लो हो रहा कूड़ेदान एक निरंतर समस्या थी। सिविकवॉइस के माध्यम से इसकी सूचना दी, और अगले ही दिन नगर निगम की टीम ਨੇ इसे साफ कर दिया। यह मंच वास्तव में काम करता है!\"",
                testimonial1Location: "मयूर विहार निवासी, दिल्ली",
                testimonial2: "\"एक नगर निगम अधिकारी के रूप में, सिविकवॉइस हमारे वर्कफ़्लो को सुव्यवस्थित करता है। जियोटैग किए गए, फोटोग्राफिक सबूत अमूल्य हैं। यह हमें नागरिक शिकायतों को प्राथमिकता देने और तेजी से हल करने में मदद करता है।\"",
                testimonial2Role: "नगर निगम अधिकारी",
                testimonial3: "\"यह देखकर सशक्त महसूस होता है कि मेरी रिपोर्ट को पड़ोसियों द्वारा अपवोट किया जा रहा है। हमने ऐप के माध्यम से सामूहिक मांग दिखाकर अपनी गली में एक नई स्ट्रीटलाइट लगवाई।\"",
                testimonial3Location: "द्वारका समुदाय सदस्य",
                faqTag: "प्रश्न हैं?",
                faqTitle: "अक्सर पूछे जाने वाले प्रश्न",
                faq1Question: "मैं किस तरह के मुद्दों की रिपोर्ट कर सकता हूं?",
                faq1Answer: "आप गड्ढों, टूटी स्ट्रीटलाइट्स, कचरा ओवरफ्लो, जलभराव, क्षतिग्रस्त सार्वजनिक संपत्ति, और बहुत कुछ जैसे गैर-आपातकालीन मुद्दों की एक विस्तृत श्रृंखला की रिपोर्ट कर सकते हैं। यदि आप अनिश्चित हैं, तो रिपोर्ट करना हमेशा सबसे अच्छा होता है।",
                faq2Question: "क्या मेरा डेटा निजी है?",
                faq2Answer: "हाँ, बिल्कुल। जबकि मुद्दे का स्थान और विवरण सार्वजनिक है, आपकी व्यक्तिगत जानकारी (नाम, संपर्क विवरण) गोपनीय रखी जाती है और केवल आपकी रिपोर्ट के संबंध में संचार के लिए संबंधित नगरपालिका अधिकारियों के साथ साझा की जाती है।",
                faq3Question: "क्या यह सेवा मेरे शहर में उपलब्ध है?",
                faq3Answer: "हम सक्रिय रूप से अपने भागीदार नगर पालिकाओं के नेटवर्क का विस्तार कर रहे हैं। वर्तमान में, हम दिल्ली, मुंबई और बैंगलोर में चालू हैं। जब हम आपके शहर में लॉन्च करेंगे तो अधिसूचित होने के लिए साइन अप करें!",
                ctaTitle: "एक अंतर बनाने के लिए तैयार हैं?",
                ctaSubtitle: "एक समय में एक रिपोर्ट, हमारे शहर को बेहतर बनाने में हजारों नागरिकों से जुड़ें। यह मुफ़्त, आसान और प्रभावी है।",
                ctaButton: "साइन अप करें और रिपोर्टिंग शुरू करें",
                footerAppName: "सिविकवॉइस",
                footerSlogan: "आपकी आवाज़, प्रवर्धित।",
                footerPlatform: "मंच",
                footerFeatures: "विशेषताएँ",
                footerGov: "सरकारों के लिए",
                footerSuccess: "सफलता की कहानियाँ",
                footerCompany: "कंपनी",
                footerAbout: "हमारे बारे में",
                footerCareers: "करियर",
                footerContact: "संपर्क",
                footerLegal: "कानूनी",
                footerPrivacy: "गोपनीयता नीति",
                footerTerms: "सेवा की शर्तें",
                footerConnect: "जुड़ें",
                footerCredit: "&copy; २०२५ सिविकवॉइस। भारत में ❤ के साथ बनाया गया।",
                modalCitizenTab: "नागरिक",
                modalOfficialTab: "आधिकारिक लॉगिन",
                modalCitizenTitle: "स्वागत है!",
                modalCitizenSubtitle: "लॉगिन या साइन अप करने के लिए अपना विवरण दर्ज करें।",
                modalCitizenInputLabel: "फोन नंबर या जीमेल",
                modalCitizenButton: "ओटीपी भेजें",
                modalOfficialTitle: "आधिकारिक पोर्टल",
                modalOfficialSubtitle: "अपने कर्मचारी क्रेडेंशियल्स के साथ लॉगिन करें।",
                modalOfficialInput1: "कर्मचारी आयडी",
                modalOfficialInput2: "पासवर्ड",
                modalOfficialButton: "लॉगिन",
                modalForgotPassword: "पासवर्ड भूल गए?",
                modalOtpTitle: "ओटीपी दर्ज करें",
                modalOtpSubtitle: "आपके डिवाइस पर एक ओटीपी भेजा गया है।",
                modalOtpButton: "सत्यापित करें और लॉगिन करें",
                reportModalTitle: "नागरिक समस्या की रिपोर्ट करें",
                reportStep1: "विवरण",
                reportStep2: "स्थान",
                reportStep3: "सबमिट करें",
                reportCategory: "समस्या श्रेणी",
                reportPhoto: "फोटो अपलोड करें",
                reportUpload: "एक फ़ाइल अपलोड करें",
                reportDescription: "विवरण",
                reportLocationConfirm: "कृपया समस्या का स्थान पुष्टि करें।",
                reportAddress: "पता / लैंडमार्क",
                reportCurrentLocation: "मेरे वर्तमान स्थान का उपयोग करें",
                reportContactInfo: "अपडेट प्राप्त करने के लिए अपनी संपर्क जानकारी (वैकल्पिक) प्रदान करें।",
                formName: "आपका नाम",
                reportSuccessTitle: "रिपोर्ट सबमिट की गई!",
                reportSuccessSub: "अपने समुदाय को बेहतर बनाने में मदद करने के लिए धन्यवाद। आपकी रिपोर्ट संबंधित विभाग को भेज दी गई है।",
                reportSuccessID: "आपका ट्रैकिंग आईडी है:",
                reportByVoice: "आवाज़ से रिकॉर्ड करें",
                listening: "सुन रहा है...",
                trackReportNav: "रिपोर्ट ट्रैक करें",
                trackReportNavMobile: "रिपोर्ट ट्रैक करें",
                trackModalTitle: "अपनी रिपोर्ट ट्रैक करें",
                trackModalSubtitle: "सबमिशन के बाद प्राप्त ट्रैकिंग आईडी दर्ज करें।",
                trackModalInputLabel: "ट्रैकिंग आईडी",
                trackModalButton: "स्थिति ट्रैक करें",
                trackStatusTitle: "रिपोर्ट की स्थिति",
                trackStep1: "रिपोर्ट किया गया",
                trackStep1Desc: "आपकी रिपोर्ट सफलतापूर्वक सबमिट कर दी गई है।",
                trackStep2: "स्वीकृत",
                trackStep2Desc: "संबंधित विभाग को आपकी रिपोर्ट मिल गई है।",
                trackStep3: "प्रगति में है",
                trackStep3Desc: "समस्या को हल करने के लिए काम शुरू हो गया है।",
                trackStep4: "हल हो गया",
                trackStep4Desc: "समस्या ठीक कर दी गई है। धन्यवाद!",
                trackAnotherButton: "दूसरी रिपोर्ट ट्रैक करें",
                assignTaskButton: "कार्य सौंपें",
                assignModalTitle: "रिपोर्ट सौंपें",
                assignDeptLabel: "विभाग",
                assignAgentLabel: "फील्ड एजेंट",
                assignNotesLabel: "टिप्पणियाँ (वैकल्पिक)",
                confirmAssignmentButton: "असाइनमेंट की पुष्टि करें",
                assignSuccessTitle: "कार्य सौंपा गया!",
                assignSuccessSub: "संबंधित विभाग और एजेंट को सूचित कर दिया गया है।"
            },
        };

        // --- STATE MANAGEMENT (FOR DEMO) ---
        let isOfficialLoggedIn = false;
        let activeReportCard = null;
        let disasterMap = null;

        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // More Dropdown Menu
        const moreDropdownButton = document.getElementById('more-dropdown-button');
        const moreDropdownMenu = document.getElementById('more-dropdown-menu');

        if (moreDropdownButton && moreDropdownMenu) {
            moreDropdownButton.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevent the window click event from firing immediately
                moreDropdownMenu.classList.toggle('hidden');
            });

            // Close dropdown when clicking outside
            window.addEventListener('click', (event) => {
                if (!moreDropdownMenu.classList.contains('hidden') && !moreDropdownButton.contains(event.target)) {
                    moreDropdownMenu.classList.add('hidden');
                }
            });
        }

        // Reveal on scroll
        const scrollObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.reveal-on-scroll').forEach(section => {
            scrollObserver.observe(section);
        });

        // FAQ Accordion
        document.querySelectorAll('.faq-question').forEach(button => {
            button.addEventListener('click', () => {
                button.parentElement.classList.toggle('open');
            });
        });

        // Location Selector Logic
        const locations = {
            "Jharkhand": ["Ranchi", "Jamshedpur", "Dhanbad", "Bokaro Steel City", "Deoghar", "Hazaribagh", "Giridih", "Ramgarh"],
        };

        const stateSelect = document.getElementById('state-select');
        const citySelect = document.getElementById('city-select');

        const populateCities = (state) => {
             citySelect.innerHTML = `<option selected disabled data-translate="selectCity">${translations.en.selectCity}</option>`;
            if (state && locations[state]) {
                citySelect.disabled = false;
                locations[state].forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    citySelect.appendChild(option);
                });
            } else {
                citySelect.disabled = true;
            }
        };

        stateSelect.addEventListener('change', (e) => {
            populateCities(e.target.value);
        });
        
        // --- MODAL LOGIC ---
        
        // Generic Modal Open/Close
        const setupModal = (modalId, openBtns, closeBtnId) => {
            const modal = document.getElementById(modalId);
            if (!modal) return {};
            const modalOverlay = modal.querySelector('.modal-overlay');
            const modalContent = modal.querySelector('.modal-content');
            const closeModalBtn = document.getElementById(closeBtnId);

            const openModal = () => {
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                setTimeout(() => {
                    modalOverlay.classList.remove('opacity-0');
                    modalContent.classList.remove('opacity-0', 'translate-y-8');
                }, 10);
            };
            const closeModal = () => {
                modalOverlay.classList.add('opacity-0');
                modalContent.classList.add('opacity-0', 'translate-y-8');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    document.body.style.overflow = '';
                }, 300);
            };
            
            openBtns.forEach(btn => btn && btn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal();
            }));
            if(closeModalBtn) closeModalBtn.addEventListener('click', closeModal);
            if(modalOverlay) modalOverlay.addEventListener('click', closeModal);

            return { modal, openModal, closeModal };
        };

        // Login Modal Specific Logic
        const citizenLoginBtns = [document.getElementById('citizen-login-btn-desktop'), document.getElementById('citizen-login-btn-mobile')];
        const { modal: loginModal, openModal: openLoginModal, closeModal: closeLoginModal } = setupModal('login-modal', [], 'close-login-modal-btn');
        
        const [citizenTab, officialTab, citizenForm, officialForm, citizenStep1, citizenStep2] = 
            ['citizen-tab', 'official-tab', 'citizen-form', 'official-form', 'citizen-step-1', 'citizen-step-2'].map(id => document.getElementById(id));

        const switchLoginTab = (showCitizen) => {
            const activeTab = showCitizen ? citizenTab : officialTab;
            const inactiveTab = showCitizen ? officialTab : citizenTab;
            activeTab.className = "whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-teal-500 text-teal-600";
            inactiveTab.className = "whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300";
            
            citizenForm.classList.toggle('hidden', !showCitizen);
            officialForm.classList.toggle('hidden', showCitizen);

            if (showCitizen) {
                citizenStep1.classList.remove('hidden');
                  }
        };

        citizenLoginBtns.forEach(btn => btn && btn.addEventListener('click', (e) => { e.preventDefault(); openLoginModal(); switchLoginTab(true); }));
        document.getElementById('official-login-btn-mobile').addEventListener('click', (e) => { e.preventDefault(); openLoginModal(); switchLoginTab(false); });
        citizenTab.addEventListener('click', () => switchLoginTab(true));
        officialTab.addEventListener('click', () => switchLoginTab(false));

        document.getElementById('citizen-otp-form').addEventListener('submit', (e) => {
            e.preventDefault();
            citizenStep1.classList.add('hidden');
            citizenStep2.classList.remove('hidden');
        });

        document.getElementById('back-to-login-btn').addEventListener('click', () => {
            citizenStep2.classList.add('hidden');
            citizenStep1.classList.remove('hidden');
        });
        
        // --- Official Login Simulation ---
        const updateOfficialUI = () => {
             document.querySelectorAll('.assign-task-btn').forEach(btn => {
                 btn.classList.toggle('hidden', !isOfficialLoggedIn);
            });
        }

        document.getElementById('official-login-form').addEventListener('submit', (e) => {
            e.preventDefault();
            isOfficialLoggedIn = true; // Simulate successful login
            closeLoginModal();
            updateOfficialUI();
            // In a real app, you would also probably hide the main login button
            const loginBtnDesktop = document.getElementById('citizen-login-btn-desktop');
            loginBtnDesktop.innerHTML = `<i data-lucide="user-check" class="h-5 w-5 mr-2"></i><span>Official Logged In</span>`;
            lucide.createIcons();
            loginBtnDesktop.disabled = true;
        });


        // Report Modal Specific Logic
        const { closeModal: closeReportModal } = setupModal('report-modal', [document.getElementById('make-report-btn')], 'close-report-modal-btn');
        document.getElementById('close-success-btn').addEventListener('click', closeReportModal);
        
        const reportFormContent = document.getElementById('report-form-content');
        const reportSuccessMessage = document.getElementById('report-success-message');
        const reportStep1Form = document.getElementById('report-step-1-form');
        const voiceRecordingUI = document.getElementById('voice-recording-ui');
        
        const formSteps = [document.getElementById('form-step-1'), document.getElementById('form-step-2'), document.getElementById('form-step-3')];
        const stepIndicators = [document.getElementById('step-indicator-1'), document.getElementById('step-indicator-2'), document.getElementById('step-indicator-3')];
        const prevBtn = document.getElementById('prev-step-btn');
        const nextBtn = document.getElementById('next-step-btn');
        const submitBtn = document.getElementById('submit-report-btn');
        let currentStep = 0;

        const updateFormSteps = () => {
            formSteps.forEach((step, index) => step.classList.toggle('hidden', index !== currentStep));
            stepIndicators.forEach((indicator, index) => {
                const circle = indicator.querySelector('div');
                const text = indicator.querySelector('span');
                const isActive = index <= currentStep;
                
                circle.classList.toggle('bg-teal-600', isActive);
                circle.classList.toggle('text-white', isActive);
                circle.classList.toggle('bg-gray-200', !isActive);
                circle.classList.toggle('text-gray-500', !isActive);
                text.classList.toggle('text-teal-600', isActive);
                text.classList.toggle('text-gray-400', !isActive);
            });
            prevBtn.classList.toggle('invisible', currentStep === 0);
            nextBtn.classList.toggle('hidden', currentStep === formSteps.length - 1);
            submitBtn.classList.toggle('hidden', currentStep !== formSteps.length - 1);
        };
        
        nextBtn.addEventListener('click', () => { if (currentStep < formSteps.length - 1) { currentStep++; updateFormSteps(); } });
        prevBtn.addEventListener('click', () => { if (currentStep > 0) { currentStep--; updateFormSteps(); } });
        
        document.getElementById('report-form').addEventListener('submit', (e) => {
            e.preventDefault();
            reportFormContent.classList.add('hidden');
            reportSuccessMessage.classList.remove('hidden');
        });
        
        document.getElementById('record-voice-btn').addEventListener('click', () => {
            reportStep1Form.classList.add('hidden');
            voiceRecordingUI.classList.remove('hidden');
        });
        
        document.getElementById('stop-recording-btn').addEventListener('click', () => {
            document.getElementById('issue-description').value = "Simulated voice input: 'There is a large pothole in the middle of the road which is causing traffic issues.'";
            voiceRecordingUI.classList.add('hidden');
            reportStep1Form.classList.remove('hidden');
        });
        
        // Redeem & Track Modals
        setupModal('redeem-modal', [document.getElementById('open-redeem-modal-btn')], 'close-redeem-modal-btn');
        setupModal('track-modal', [document.getElementById('track-report-btn-desktop'), document.getElementById('track-report-btn-mobile')], 'close-track-modal-btn');

        // --- Assignment Modal ---
        const { openModal: openAssignmentModal, closeModal: closeAssignmentModal } = setupModal('assignment-modal', [], 'close-assignment-modal-btn');
        const assignmentFormView = document.getElementById('assignment-form-view');
        const assignmentSuccessView = document.getElementById('assignment-success-view');

        document.querySelectorAll('.assign-task-btn').forEach(button => {
            button.addEventListener('click', (e) => {
                activeReportCard = e.currentTarget.closest('.report-card');
                const reportId = activeReportCard.dataset.reportId;
                document.getElementById('assignment-modal-title').textContent = `Assign Report: ${reportId}`;
                
                assignmentFormView.classList.remove('hidden');
                assignmentSuccessView.classList.add('hidden');
                openAssignmentModal();
            });
        });

        document.getElementById('assignment-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const department = document.getElementById('assign-department').value;
            const agent = document.getElementById('assign-agent').value;

            if (activeReportCard) {
                const statusText = activeReportCard.querySelector('.status-text');
                statusText.textContent = `Assigned to ${agent}`;
                statusText.classList.add('text-blue-600', 'font-bold');
            }
            
            assignmentFormView.classList.add('hidden');
            assignmentSuccessView.classList.remove('hidden');

            setTimeout(() => {
                closeAssignmentModal();
            }, 2000);
        });

        // --- Disaster Modal Logic ---
        const { openModal: openDisasterModal } = setupModal('disaster-modal', [], 'close-disaster-modal-btn');

        const disasterData = {
            flood: {
                title: "Flooding & Water Logging Alerts",
                description: "Heavy rainfall has led to water logging in several low-lying areas.",
                alerts: [
                    { time: "2 hours ago", message: "Red Alert: River Subarnarekha is flowing above the danger mark near Jamshedpur." },
                    { time: "4 hours ago", message: "Orange Alert: Severe water logging reported in Mango and Jugsalai areas." },
                    { time: "6 hours ago", message: "Advisory: Avoid travel towards Adityapur bridge due to high water levels." }
                ],
                locations: [
                    { lat: 22.78, lng: 86.20, title: "Severe Water Logging" }, // Jamshedpur area
                    { lat: 22.82, lng: 86.18, title: "River overflow" } // Near Subarnarekha
                ]
            },
            fire: {
                title: "Fire Incident Alerts",
                description: "Active fire incidents and advisories for citizen safety.",
                 alerts: [
                    { time: "1 hour ago", message: "Major fire reported at a factory in Bokaro industrial area. Firefighters on scene." },
                    { time: "3 hours ago", message: "Advisory: Smoke visible near Dhanbad coal fields. Residents advised to keep windows closed." },
                ],
                locations: [
                    { lat: 23.79, lng: 86.15, title: "Factory Fire" }, // Bokaro area
                    { lat: 23.81, lng: 86.44, title: "Smoke Advisory" }  // Dhanbad area
                ]
            },
            earthquake: {
                title: "Earthquake & Tremor Alerts",
                description: "Information regarding recent seismic activities in the region.",
                 alerts: [
                    { time: "30 mins ago", message: "Minor tremor of 3.2 magnitude felt across parts of Ranchi and Hazaribagh. No damage reported." },
                    { time: "1 day ago", message: "Safety Advisory: In case of aftershocks, follow 'Drop, Cover, and Hold On' protocol." }
                ],
                locations: [
                    { lat: 23.34, lng: 85.30, title: "Tremor Epicenter" }, // Ranchi
                ]
            }
        };

        const populateAndOpenDisasterModal = (type) => {
            const data = disasterData[type];
            if (!data) return;

            document.getElementById('disaster-modal-title').textContent = data.title;
            document.getElementById('disaster-modal-description').textContent = data.description;
            
            const alertsContainer = document.getElementById('disaster-modal-alerts');
            alertsContainer.innerHTML = '';
            data.alerts.forEach(alert => {
                const alertEl = document.createElement('div');
                alertEl.className = 'p-3 bg-slate-100 rounded-lg';
                alertEl.innerHTML = `<p class="font-semibold text-sm text-gray-800">${alert.message}</p><p class="text-xs text-gray-500 mt-1">${alert.time}</p>`;
                alertsContainer.appendChild(alertEl);
            });
            
            openDisasterModal();

            // Initialize or update map after modal is visible
            setTimeout(() => {
                if (!disasterMap) {
                    disasterMap = L.map('disaster-map').setView([23.63, 85.29], 7); // Jharkhand central view
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(disasterMap);
                }
                
                // Clear previous markers
                disasterMap.eachLayer(layer => {
                    if (layer instanceof L.Marker) {
                    disasterMap.removeLayer(layer);
                    }
                });

                // Add new markers and fit bounds
                const markers = [];
                data.locations.forEach(loc => {
                    const marker = L.marker([loc.lat, loc.lng]).addTo(disasterMap)
                        .bindPopup(loc.title);
                    markers.push(marker);
                });

                if (markers.length > 0) {
                    const group = new L.featureGroup(markers);
                    disasterMap.fitBounds(group.getBounds().pad(0.5));
                }

                disasterMap.invalidateSize();
            }, 350); // Delay to allow modal transition
        };

        document.getElementById('flood-alert-btn').addEventListener('click', () => populateAndOpenDisasterModal('flood'));
        document.getElementById('fire-alert-btn').addEventListener('click', () => populateAndOpenDisasterModal('fire'));
        document.getElementById('earthquake-alert-btn').addEventListener('click', () => populateAndOpenDisasterModal('earthquake'));
        
        // Track Report Logic
        const trackInputView = document.getElementById('track-input-view');
        const trackStatusView = document.getElementById('track-status-view');
        const trackIdForm = document.getElementById('track-id-form');
        const displayTrackingId = document.getElementById('display-tracking-id');
        const trackingIdInput = document.getElementById('tracking-id');
        const trackAnotherBtn = document.getElementById('track-another-btn');
        const trackingSteps = Array.from(document.querySelectorAll('.tracking-step'));

        const resetTrackingView = () => {
            if (window.progressInterval) clearInterval(window.progressInterval);
            trackingSteps.forEach(step => step.classList.remove('active', 'completed'));
            trackStatusView.classList.add('hidden');
            trackInputView.classList.remove('hidden');
            trackingIdInput.value = '';
        };

        trackIdForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const trackingId = trackingIdInput.value.trim();
            if (!trackingId) return;

            displayTrackingId.textContent = trackingId;
            trackInputView.classList.add('hidden');
            trackStatusView.classList.remove('hidden');
            lucide.createIcons();

            let currentTrackingStep = 0;
            if (window.progressInterval) clearInterval(window.progressInterval);
            
            const processStep = () => {
                 if (currentTrackingStep < trackingSteps.length) {
                    if (currentTrackingStep > 0) {
                        trackingSteps[currentTrackingStep - 1].classList.remove('active');
                        trackingSteps[currentTrackingStep - 1].classList.add('completed');
                    }
                    trackingSteps[currentTrackingStep].classList.add('active');
                    currentTrackingStep++;
                } else {
                    trackingSteps[currentTrackingStep - 1].classList.remove('active');
                    trackingSteps[currentTrackingStep - 1].classList.add('completed');
                    clearInterval(window.progressInterval);
                }
            };
            processStep();
            window.progressInterval = setInterval(processStep, 1500);
        });

        trackAnotherBtn.addEventListener('click', resetTrackingView);
        document.getElementById('close-track-modal-btn').addEventListener('click', resetTrackingView);
        document.querySelector('#track-modal .modal-overlay').addEventListener('click', resetTrackingView);


        // Live Reports Tab Logic
        const [ongoingTab, solvedTab, ongoingGrid, solvedGrid] = ['ongoing-tab', 'solved-tab', 'ongoing-issues-grid', 'solved-issues-grid'].map(id => document.getElementById(id));
        
        const switchLiveReportTab = (showOngoing) => {
            ongoingTab.classList.toggle('active', showOngoing);
            solvedTab.classList.toggle('active', !showOngoing);
            ongoingGrid.classList.toggle('hidden', !showOngoing);
            solvedGrid.classList.toggle('hidden', showOngoing);
        };
        ongoingTab.addEventListener('click', () => switchLiveReportTab(true));
        solvedTab.addEventListener('click', () => switchLiveReportTab(false));

        // Language translation logic
        const languageSelector = document.getElementById('language-selector');
        const translatePage = (language) => {
            const langData = translations[language];
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (langData && langData[key]) {
                    element.innerHTML = langData[key];
                }
            });
             lucide.createIcons();
        };

        languageSelector.addEventListener('change', (e) => translatePage(e.target.value));
        
        // Chatbot Logic
        const chatbotToggleButton = document.getElementById('chatbot-toggle-btn');
        const chatbotWindow = document.getElementById('chatbot-window');
        const chatbotCloseButton = document.getElementById('chatbot-close-btn');
        const chatbotForm = document.getElementById('chatbot-form');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotMessages = document.getElementById('chatbot-messages');

        const toggleChatbot = (show) => {
            if(show) {
                chatbotWindow.classList.remove('hidden');
                setTimeout(() => {
                    chatbotWindow.classList.remove('opacity-0', 'translate-y-4');
                }, 10);
            } else {
                chatbotWindow.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    chatbotWindow.classList.add('hidden');
                }, 300);
            }
        };

        chatbotToggleButton.addEventListener('click', () => toggleChatbot(true));
        chatbotCloseButton.addEventListener('click', () => toggleChatbot(false));

        chatbotForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const message = chatbotInput.value.trim();
            if (!message) return;

            // Add user message
            const userBubble = document.createElement('div');
            userBubble.classList.add('chat-bubble-user', 'p-3', 'self-end', 'max-w-xs');
            userBubble.innerHTML = `<p class="text-sm">${message}</p>`;
            chatbotMessages.appendChild(userBubble);
            
            chatbotInput.value = '';
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;

            // Simulate bot reply
            setTimeout(() => {
                const botBubble = document.createElement('div');
                botBubble.classList.add('chat-bubble-bot', 'p-3', 'self-start', 'max-w-xs');
                botBubble.innerHTML = `<p class="text-sm">Thank you for your question. A representative will get back to you shortly.</p>`;
                chatbotMessages.appendChild(botBubble);
                chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            }, 1000);
        });

        // --- Live Map Initialization ---
        const initLiveMap = () => {
            if (document.getElementById('live-map')._leaflet_id) { return; } // Prevent re-initialization
            
            // Centered on Jharkhand
            const map = L.map('live-map').setView([23.63, 85.29], 7); 

            // Bounds for Jharkhand
            const southWest = L.latLng(21.9, 83.3);
            const northEast = L.latLng(25.4, 88.0);
            const bounds = L.latLngBounds(southWest, northEast);
            map.setMaxBounds(bounds);
            map.on('drag', function() { map.panInsideBounds(bounds, { animate: false }); });

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                minZoom: 7, // Adjusted minZoom for state level
            }).addTo(map);

            const createCustomIcon = (iconName, colorClass) => L.divIcon({
                html: `<div class="p-2 rounded-full shadow-lg ${colorClass} flex items-center justify-center"><i data-lucide="${iconName}" class="h-5 w-5 text-white"></i></div>`,
                 className: 'bg-transparent border-0',
                iconSize: [32, 32], iconAnchor: [16, 32], popupAnchor: [0, -32]
            });

            const icons = {
                'Pothole': createCustomIcon('wrench', 'bg-orange-500'),
                'Garbage': createCustomIcon('trash-2', 'bg-red-500'),
                'Streetlight': createCustomIcon('lightbulb', 'bg-amber-500'),
                'Water': createCustomIcon('droplets', 'bg-cyan-500')
            };
            
            // Jharkhand-specific issues
            const issues = [
                { id: 'CIVIC-RNC-002', lat: 23.34, lng: 85.31, category: 'Pothole', title: 'Pothole near Albert Ekka Chowk, Ranchi', status: 'Reported' },
                { id: 'CIVIC-JSR-002', lat: 22.80, lng: 86.20, category: 'Garbage', title: 'Garbage pile up in Sakchi, Jamshedpur', status: 'In Progress' },
                { id: 'CIVIC-DHN-002', lat: 23.79, lng: 86.43, category: 'Streetlight', title: 'Streetlight not working at Bank More, Dhanbad', status: 'Reported' },
                { id: 'CIVIC-BOK-001', lat: 23.67, lng: 86.15, category: 'Water', title: 'Water logging in Sector 4, Bokaro', status: 'Acknowledged' },
                { id: 'CIVIC-RNC-003', lat: 23.37, lng: 85.33, category: 'Garbage', title: 'Irregular waste collection in Kanke, Ranchi', status: 'Reported' },
                { id: 'CIVIC-JSR-003', lat: 22.78, lng: 86.18, category: 'Pothole', title: 'Bad road condition in Mango, Jamshedpur', status: 'In Progress' },
                { id: 'CIVIC-DEO-001', lat: 24.48, lng: 86.70, category: 'Streetlight', title: 'Faulty light near Baidyanath Temple, Deoghar', status: 'Resolved'},
                { id: 'CIVIC-HAZ-001', lat: 24.00, lng: 85.37, category: 'Water', title: 'Leaking pipe near Hazaribagh Lake', status: 'Acknowledged' },
                { id: 'CIVIC-RNC-004', lat: 23.35, lng: 85.28, category: 'Garbage', title: 'Overflowing bin near Harmu Housing Colony, Ranchi', status: 'In Progress' }
            ];

            const heatLayer = L.heatLayer([], { radius: 25 });
            const markerGroup = L.layerGroup();
            
            const updateStats = (filteredIssues) => {
                document.getElementById('stat-total').textContent = filteredIssues.length;
                document.getElementById('stat-resolved').textContent = filteredIssues.filter(i => i.status === 'Resolved').length;
                document.getElementById('stat-in-progress').textContent = filteredIssues.filter(i => i.status === 'In Progress').length;
                document.getElementById('stat-reported').textContent = filteredIssues.filter(i => i.status === 'Reported').length;
            };

            const updateMapLayers = () => {
                const category = document.getElementById('map-filter-category').value;
                const status = document.getElementById('map-filter-status').value;

                const filteredIssues = issues.filter(issue => 
                    (category === 'all' || issue.category === category) &&
                    (status === 'all' || issue.status === status)
                );

                markerGroup.clearLayers();
                filteredIssues.forEach(issue => {
                    const icon = icons[issue.category] || icons['Pothole'];
                    const marker = L.marker([issue.lat, issue.lng], { icon: icon });
                    marker.bindPopup(`<b>${issue.title}</b><br>Status: ${issue.status}<br><button class="btn btn-dark btn-sm mt-2 assign-map-task-btn" data-report-id="${issue.id}">Assign</button>`);
                    marker.addTo(markerGroup);
                });
                lucide.createIcons();

                const heatPoints = filteredIssues.map(issue => [issue.lat, issue.lng]);
                heatLayer.setLatLngs(heatPoints);
                
                updateStats(filteredIssues);
            };

            const togglePins = document.getElementById('toggle-pins');
            const toggleHeatmap = document.getElementById('toggle-heatmap');
            
            togglePins.addEventListener('change', (e) => e.target.checked ? map.addLayer(markerGroup) : map.removeLayer(markerGroup));
            toggleHeatmap.addEventListener('change', (e) => e.target.checked ? map.addLayer(heatLayer) : map.removeLayer(heatLayer));

            document.getElementById('map-filter-category').addEventListener('change', updateMapLayers);
            document.getElementById('map-filter-status').addEventListener('change', updateMapLayers);
            
            map.on('popupopen', function() {
                document.querySelectorAll('.assign-map-task-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const reportId = e.target.dataset.reportId;
                        document.getElementById('assignment-modal-title').textContent = `Assign Report: ${reportId}`;
                        openAssignmentModal();
                    });
                });
            });


            updateMapLayers(); // Initial population
            if (togglePins.checked) map.addLayer(markerGroup);
            if (toggleHeatmap.checked) map.addLayer(heatLayer);
        };

        // Initial Page Load
        document.addEventListener('DOMContentLoaded', () => {
            translatePage('en'); // Initial translation
            populateCities(stateSelect.value); // Populate cities for the default state
            updateOfficialUI(); // Ensure official buttons are hidden initially
            initLiveMap(); // Initialize the map
        });

    </script>

</body>
</html>
